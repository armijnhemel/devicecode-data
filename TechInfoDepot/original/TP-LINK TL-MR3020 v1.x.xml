<page>
    <title>TP-LINK TL-MR3020 v1.x</title>
    <ns>0</ns>
    <id>14579</id>
    <revision>
      <id>380089</id>
      <parentid>368465</parentid>
      <timestamp>2024-08-16T13:36:18Z</timestamp>
      <contributor>
        <username>ShadowBot</username>
        <id>3357272</id>
      </contributor>
      <minor/>
      <comment>/* top */clean up</comment>
      <origin>380089</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="8546" sha1="7p7a6soi80vubehrsh9yqq06nw5afz9" xml:space="preserve">{{Infobox Embedded System
|image1             = TL-MR3020-01.jpg
|image1_size        = 150px
|caption            = Portable 3G Wireless N Router
|caption2           = &lt;!-- 2nd tagleine --&gt;
|pp                 = https://www.tp-link.com/en/products/details/TL-MR3020.html
|sp                 = https://www.tp-link.com/en/download/TL-MR3020.html
|dl                 = &lt;!-- Download page url only --&gt;
|wikidevi           = &lt;!-- wikidevi.wi-cat.ru page, included underscores --&gt;
|wikipedia          = &lt;!-- [[wikipedia:Main Page|Wikipedia]] Leave blank for none --&gt;
|ddwrtsupport       = Supported
|openwrtsupport     = Was Supported
|tomatosupport      = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;
|gargoylesupport    = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;

|brand              = TP-LINK
|model              = TL-MR3020
|submodelappend     = &lt;!-- yes, for space --&gt;
|submodel           = &lt;!-- SubModel number, Leave blank for unknown --&gt;
|revision           = v1.x
|subrevision        = &lt;!-- Model Subrevision, Leave blank for none or unknown --&gt;
|model_part_num     = 
|page_start_date    = 02/29/2012‎
|page_start_origon  = https://wikidevi.com/wiki/TP-LINK_TL-MR3020
|wlclass            = N150
|series             = &lt;!-- Device series --&gt;
|type               = mobile router
|sernum             = &lt;!-- First 4 or so for easy version identification --&gt;
|fcc_id             = TE7MR3020
|icid               = &lt;!-- Industry Canada Identification number, Leave blank for unknown --&gt;
|us_id              = &lt;!-- US ID number --&gt;
|boardid            = 2050500194
|ecc_id             = &lt;!-- eec-id --&gt;

|cpu1chip1          = Atheros;AR9331;
|cpu1_cores         = 1
|cpu1_type          = MIPS 24K
|cpu1_type_rev      = (v7.4)
|cpu1spd            = 400 &lt;!-- doc? --&gt;
|is_doc             = 
|bus                = &lt;!-- 8-bit, 16-bit, 32-bit, 64-bit, Leave blank for none --&gt;

|flash1type         = &lt;!-- Parallel,Serial(SPI),SPI NOR,NAND,Compact Flash, --&gt;
|fla1_num           = &lt;!-- 1,2,3,4 --&gt;
|fla1chip           = Spansion;S25FL032PIF;
|flash1size         = 4
|flash1maxsize      = &lt;!-- Maximum size firmware can be in bytes --&gt;

|ram1type           = &lt;!-- DDR,DDR2,DDR3,DDR4, --&gt;
|ram1type1          = &lt;!-- SO-DIMM,SDRAM, --&gt;
|ram1spd            = &lt;!-- RAM speed --&gt;
|ram1size           = 32
|ram1chip           = Winbond;W9425G6JH-6;
|ram1_num           = &lt;!-- Number of Ram chips --&gt;
|nvramsize          = &lt;!-- 32, 60, 64, etc... in kb, Leave blank for unknown --&gt;

|eth_cpu            = true
|lan_ports          = 1
|lan_speed          = 100MbE
|ethstandard        = &lt;!-- auto --&gt;
|auto_mdix          = &lt;!-- mdix support --&gt;
|sup_jumbo          = &lt;!-- Jumbo frames support --&gt;
|ethoui             = &lt;!-- Leave blank for unknown --&gt;
|oui                = &lt;!-- Wireless OUI --&gt;

|bootwait           = &lt;!-- On or Off, Leave blank for unknown --&gt;
|stockbootloader    = U-Boot;;;
|stockos            = &lt;!-- Name;Version;Distro --&gt;

|exp_if_types       = USB 2.0
|exp_usb_num        = 1
|usb_hub            = &lt;!-- USB hub compatibility --&gt;

|pwr_volt_type      = VDC
|pwr_vdc            = 5
|pwr_amp_dc         = 1
|pwr_conn           = USB Female Mini-B

|serial             = yes,, (115200 8N1)
|jtag               = &lt;!-- Full JTAG info --&gt;

|specialfeat        = &lt;!-- Features that don't fit any place else, Leave blank for none --&gt;
|flags              = 3G capable
|addchip            = &lt;!-- Additional Chips --&gt;
|802dot11_protocols = bgn

|defaulip           = &lt;!-- ???.???.???.???, default IP Address --&gt;
|defaultlogin       = &lt;!-- default Login Name, Leave blank for unknown --&gt;
|defaultpass        = &lt;!-- default Password, Leave blank for unknown --&gt;
|defaultssid        = &lt;!-- default Wireless ID, Leave blank for unknown --&gt;
|defaultssid_regex  = 
|default_ch         = &lt;!-- Defaults channel(s) Radio(s) are set to --&gt;
|is_manuf           = Yes
|tpfirmware         = DD-WRT, OpenWrt (Was), libreCMC

|availability       = Discontinued
|eoldate            = &lt;!-- End of Life date --&gt;
|fccapprovdate      = 02/21/2012
|estreldate         = 01/13/2012
|estprice           = &lt;!-- Estimated retail price in US dollars --&gt;
|upc                = 845973051709
|ean                = 6935364051709
|dx_sku             = &lt;!-- DealExtreme sku --&gt;
|newegg             = &lt;!-- newegg item number --&gt;
|asin               = B00634PLTW
|asin_country       = &lt;!-- ASIN country --&gt;
|asin2              = &lt;!-- ASIN number --&gt;
|asin_country2      = &lt;!-- ASIN country --&gt;
|countrymanuf       = China

|buttons            = &lt;!-- buttons available --&gt;
|led                = &lt;!-- Led colors and descriptions --&gt;
|dimensions         = &lt;!-- Size of device {{convert |length|x|widthordepth|x|height|in|mm}} --&gt;
|weight             = &lt;!-- Weight of device {{convert|weight|oz|g}} --&gt;

|wi1_if_name        = 
|rad1chip1cpu       = true
|rad1oui            = &lt;!-- Only if different from above OUI --&gt;
|rad1_ant_conn      = &lt;!-- Leave blank for unknown --&gt;
|rad1txchains       = 1
|rad1rxchains       = 1
|rad1sstreams       = 1
|rad1stand          = IEEE 802.11b/g/n
|rad1n              = 150
|rad1g              = 54
|rad1b              = 11
|rad1freq           = 2.4

}}{{TIDTOC|embedded}}
==Overview==
*'''TP-LINK TL-MR3020 v3.x''' (v3/v3.20)
:CPU: [[MediaTek]] MT7628NN @575MHz WiSoC
:Flash: ''GigaDevice'' GD25Q64BSIG (8MB)
:RAM: ''Zentel'' A3R12E40DBF-8E (64MB)
:WLAN: 802.11bgn 2T2R (2.4GHz)
:LAN: 1x FE, USB: 1x USB 2.0 port
:PCB ID: [https://openwrt.org/_media/media/tplink/tl-mr3023-v3_pcb_bottom.jpg 2050500974]

==Links of Interest==
*[http://openwrt.org/toh/tp-link/tl-mr3020 ''TP-LINK TL-MR3020'' on the '''OpenWrt''' wiki]
{{See also|TP-LINK TL-MR3020 v3.x}}

==Flashing==
{{Flashnotice}}
===Flashing dd-wrt===
Supported by dd-wrt as of = tl-mr3020 build 19342 20120608

Please insert instructions here

===Flashing OpenWrt===
{{OpenWrtNotice|notrecommended}} 
{{OpenWrtNotice|insufficient}} 
{{OpenWrtNotice|endsupport|2022|19.07.10}} 
{{OpenWrt
|techdata                  = https://openwrt.org/toh/hwdata/tp-link/tp-link_tl-mr3020_v1
|wikipage                  = https://openwrt.org/toh/tp-link/tl-mr3020
|forumpage                 = https://forum.openwrt.org/viewtopic.php?id=33429
|forumpage2                = 
|forumpage3                = 
|github                    = 
|target                    = ar71xx-ath79
|subtarget                 = generic
|arch                      = mips_24kc
|support_started_version   = 12.09
|current_supported_version = ?
|comment                   = 
}}
Please insert instructions here

==JTAG-Serial Info==
===Notes on JTAG===
&lt;small&gt;
The EJTAG interface AR9331 is different from the ones on most chips:
* First of all, the Jtag pins are multiplexed with GPIOs, GPIO11 must be pull high to bootstrap the debug interface. 
:Pressing the SW2 switch while powering on the unit should take care of this as it is connected to GPIO11.
* The second problem is that U-Boot will disable EJTAG, even if it was enabled by pulling GPIO11 high during power up. 
:To workaround this, a jumper can be added between the CS pin on the flash and CPU.
* And last problem is that TP-Link does not provide test points, pads or pins for the Jtag interface.
&lt;/small&gt;
=== OpenOCD ===
This sequence will be needed to initiate PLL and RAM:
{{SCollapse|PLL / RAM • &gt;&gt;
|&lt;small&gt;&lt;pre&gt;
        #pll initialization
        mww 0xb8050008 0x00018004
        mww 0xb8050004 0x00000352
        mww 0xb8050000 0x40818000
        mww 0xb8050010 0x001003e8
        mww 0xb8050000 0x00818000
        mww 0xb8050008 0x00008000
        sleep 1
        # Setup DDR1 config and flash mapping
        mww 0xb8000000 0x7fbc8cd0
        mww 0xb8000004 0x9dd0e6a8

        mww 0xb8000010 0x8
        mww 0xb8000008 0x133
        mww 0xb8000010 0x1
        mww 0xb800000c 0x2
        mww 0xb8000010 0x2
        mww 0xb8000010 0x8
        mww 0xb8000008 0x33
        mww 0xb8000010 0x1
        mww 0xb8000014 0x4186
        mww 0xb800001c 0x8
        mww 0xb8000020 0x9
        mww 0xb8000018 0xff

        #UART
        mww 0xb8020004 0x4388
        mww 0xb8020008 0xc2000

        #GPIO
        mww 0xb8040028 0x48002
&lt;/pre&gt;&lt;/small&gt;}}

==Pictures==
&lt;center&gt;'''Retail Images'''
&lt;gallery&gt;
File:TL-MR3020-01.jpg
File:TL-MR3020-02.jpg
&lt;/gallery&gt;&lt;/center&gt;[[Has images::retail| ]][[Has images::external| ]]&lt;center&gt;'''User Images'''
&lt;gallery&gt;
File:Mr3020-top.jpg
File:Mr3020-bottom.jpg
File:Mr3020-jtag.jpg
&lt;/gallery&gt;&lt;/center&gt;[[Has images::internal| ]]

[[Category:English Documentation]]</text>
      <sha1>7p7a6soi80vubehrsh9yqq06nw5afz9</sha1>
    </revision>
  </page>