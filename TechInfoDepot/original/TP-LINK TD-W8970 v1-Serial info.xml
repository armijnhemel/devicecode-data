<page>
    <title>TP-LINK TD-W8970 v1/Serial info</title>
    <ns>0</ns>
    <id>43052</id>
    <revision>
      <id>268292</id>
      <timestamp>2023-03-09T18:24:54Z</timestamp>
      <contributor>
        <username>DarkShadow</username>
        <id>3096572</id>
      </contributor>
      <comment>add data</comment>
      <origin>268292</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="17897" sha1="oyx0l2z7cfpqckkcw8hf7bkh732awyy" xml:space="preserve">
====Boot log====
{{SCollapse|bootlog (OFW) â€¢ &gt;&gt;
|&lt;small&gt;&lt;pre&gt;
ROM VER: 1.1.4
CFG 05

ROM VER: 1.1.4
CFG 05

DDR autotuning Rev 0.3ff
DDR size from 0xa0000000 - 0xa3ffffff
DDR check ok... start booting...

U-Boot 2010.06-LANTIQ-v-2.0.40-svn4806 (Jun 12 2014 - 10:34:17)

CLOCK CPU 500M RAM 250M
DRAM:  64 MiB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   Internal phy(GE) firmware version: 0x8434
vr9 Switch8192 KiB W25Q64 at 0:3 is now current device

Type &quot;run flash_nfs&quot; to mount root filesystem over NFS

Hit any key to stop autoboot:  0 
8192 KiB W25Q64 at 0:3 is now current device
8192 KiB W25Q64 at 0:3 is now current device
	Uncompressing ... 
Starting kernel ...

Lantiq xDSL CPE VR9
mips_hpt_frequency = 250000000, counter_resolution = 2
Linux version 2.6.32.32 (swd@localhost.localdomain) (gcc version 4.3.3 (GCC) ) #34 Fri Jun 13 08:36:06 CST 2014
phym = 04000000, mem = 04000000, max_pfn = 00004000
Reserving memory for CP1 @0xa4000000, size 0x00000000
CPU revision is: 00019556 (MIPS 34Kc)
Determined physical RAM map:
User-defined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00004000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00004000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: root=/dev/mtdblock2 rw rootfstype=squashfs ip=192.168.1.1:192.168.1.2::::eth0:on console=ttyS0,115200 

ethaddr=xx:xx:xx:xx:xx:xx phym=64M mem=64M panic=1 mtdparts=ifx_sflash:128k(boot),1280k(kernel),6528k(rootfs),64k(config),64k

(romfile),64k(rom),64k(radio) init=/sbin/init ethwan=
PID hash table entries: 256 (order: -2, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00044220
Readback ErrCtl register=00044220
Memory: 60632k/65536k available (2855k kernel code, 4832k reserved, 820k data, 184k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:185
Lantiq ICU driver, version 3.0.1, (c) 2001-2011 Lantiq Deutschland GmbH
console [ttyS0] enabled
Calibrating delay loop... 332.59 BogoMIPS (lpj=1662976)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
Lantiq PCIe Root Complex driver, version 1.5.3, (c) 2001-2011 Lantiq Deutschland GmbH
bio: create slab &lt;bio-0&gt; at 0
ifx_pcie_rc_class_early_fixup: fixed pcie host bridge to pci-pci bridge
pci 0000:00:00.0: PME# supported from D0 D3hot
pci 0000:00:00.0: PME# disabled
pci 0000:01:00.0: PME# supported from D0 D1 D3hot
pci 0000:01:00.0: PME# disabled
pci 0000:00:00.0: PCI bridge, secondary bus 0000:01
pci 0000:00:00.0:   IO window: disabled
pci 0000:00:00.0:   MEM window: 0x1c000000-0x1c0fffff
pci 0000:00:00.0:   PREFETCH window: 0x1c100000-0x1c1fffff
NET: Registered protocol family 8
NET: Registered protocol family 20
Switching to clocksource MIPS
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NET: Registered protocol family 1
gptu: totally 6 16-bit timers/counters
gptu: misc_register on minor 63
gptu: succeeded to request irq 118
gptu: succeeded to request irq 119
gptu: succeeded to request irq 120
gptu: succeeded to request irq 121
gptu: succeeded to request irq 122
gptu: succeeded to request irq 123
IFX DMA driver, version ifxmips_dma_core.c:v1.0.17 
,(c)2009 Infineon Technologies AG
Lantiq CGU driver, version 1.1.27, (c) 2001-2011 Lantiq Deutschland GmbH
vpe1_mem = 0
Wired TLB entries for Linux read_c0_wired() = 0
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
fuse init (API version 7.13)
msgmni has been set to 118
Line: 127, function: deu_init
DMA Referenced PAGE_SIZE = 4 GiB
Infineon Technologies DEU driver version 2.0.0 
IFX DEU DES initialized (multiblock) (DMA).
IFX DEU AES initialized (multiblock) (DMA).
IFX DEU ARC4 initialized (multiblock) (DMA).
IFX DEU SHA1 initialized (DMA).
IFX DEU MD5 initialized (DMA).
IFX DEU SHA1_HMAC initialized (DMA).
IFX DEU MD5_HMAC initialized (DMA).
io scheduler noop registered (default)
ifx_pmu_init: Major 252
Lantiq PMU driver, version 1.2.2, (c) 2001-2011 Lantiq Deutschland GmbH
Lantiq GPIO driver, version 1.2.14, (c) 2001-2011 Lantiq Deutschland GmbH
Infineon Technologies RCU driver version 1.0.8 
Lantiq LED Controller driver, version 1.0.6, (c) 2001-2011 Lantiq Deutschland GmbH
MEI CPE Driver, Version 1.2.0

(c) Copyright 2009, Infineon Technologies AG

### MEI CPE - MEI CPE - MEI CPE - MEI CPE ###

ttyS0 at MMIO 0xbe100c00 (irq = 105) is a IFX_ASC
Register ASC (UART) to PMCU.
Lantiq ASC (UART) driver, version 1.0.9, (c) 2001-2011 Lantiq Deutschland GmbH
brd: module loaded
loop: module loaded
Lantiq SSC driver, version 2.2.6, (c) 2001-2011 Lantiq Deutschland GmbH
Register flash device:flash0
7 cmdlinepart partitions found on MTD device ifx_sflash
Creating 7 MTD partitions on &quot;ifx_sflash&quot;:
0x000000000000-0x000000020000 : &quot;boot&quot;
0x000000020000-0x000000160000 : &quot;kernel&quot;
0x000000160000-0x0000007c0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
0x0000007c0000-0x0000007d0000 : &quot;config&quot;
0x0000007d0000-0x0000007e0000 : &quot;romfile&quot;
0x0000007e0000-0x0000007f0000 : &quot;rom&quot;
0x0000007f0000-0x000000800000 : &quot;radio&quot;
Lantiq SPI flash driver, version 1.1.9, (c) 2001-2011 Lantiq Deutschland GmbH
ifxmips_gpio: Pin ID 10 (port 0, pin 10) has been reserved by module SFLASH from kernel module!
ifx_dataflash_init status error 255
PPP generic driver version 2.4.2
NET: Registered protocol family 24
IFX SWITCH API, Version 1.1.7.2
SWAPI: Registered character device [switch_api] with major no [81]
Switch API: PCE MicroCode loaded !!
Init IFX_ETHSW_Switch_API_procModule successfully.
Switch Auto Polling value = 0
GPHY FW load for A2x !!
GPHY FIRMWARE LOAD SUCCESSFULLY AT ADDR : 400000
IFX GPHY driver GE Mode, version ifxmips_vr9_gphy: V0.9 - Firmware: 8434
Registered led device: broadband_led
Registered led device: internet_led
Registered led device: usb1_link_led
Registered led device: usb2_link_led
Lantiq LED driver, version 1.0.17, (c) 2001-2011 Lantiq Deutschland GmbH
Mirror/redirect action on
u32 classifier
    Actions configured 
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (948 buckets, 5120 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
GRE over IPv4 tunneling driver
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP cubic registered
NET: Registered protocol family 10
ip6_tables: (C) 2000-2006 Netfilter Core Team
IPv6 over IPv4 tunneling driver
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
Ebtables v2.0 registered
NET: Registered protocol family 8
atmpvc_init() failed with -17
KOAM is loaded successfully.
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 184k freed

starting pid 187, tty '': '/etc/init.d/rcS'
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
IFXUSB: ifxusb_hcd: version 3.2 B120208
Chip Version :0002 BurstSize=4
IFXUSB: USB core #0 soft-reset
IFXUSB: USB core #0 soft-reset
ifxusb_hcd ifxusb_hcd: IFX USB Controller
ifxusb_hcd ifxusb_hcd: new USB bus registered, assigned bus number 1
ifxusb_hcd ifxusb_hcd: irq 54, io mem 0xbe101000
IFXUSB: Init: Power Port (0)
hotplug, argsusb usb1: configuration #1 chosen from 1 choice
:usb
hotplug, args:usb
.....pidhub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
 228: wait the running hotplug to end itself.......
IFXUSB: USB core #1 soft-reset
IFXUSB: USB core #1 soft-reset
ifxusb_hcd ifxusb_hcd: IFX USB Controller
ifxusb_hcd ifxusb_hcd: new USB bus registered, assigned bus number 2
ifxusb_hcd ifxusb_hcd: irq 83, io mem 0xbe106000
IFXUSB: Init: Power Port (0)
hotplug, argsusb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
:usb
hotplug, args:usb

Please press Enter to activate this console. .....pid 228: wait the running hotplug to end itself.......
[ dm_readFile ] 2042:  can not open xml file /var/tmp/pc/reduced_data_model.xml!, about to open file 

/etc/reduced_data_model.xml
[ dm_loadCfg ] 2252:  software version is not match, in config, version = 0
[ dm_readFile ] 2042:  can not open xml file /var/tmp/pc/default_config.xml!, about to open file /etc/default_config.xml
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;PhDDNSCfg&quot;, skip the node
[ parseConfigNode ] 526:  Meet unrecognized parameter node &quot;PhDDNSCfg&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;X_TPLINK_MultiSSID&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;QueueManagement&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;X_TPLINK_IPTVCfg&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;VoiceService&quot;, skip the node
[ parseConfigNode ] 526:  Meet unrecognized parameter node &quot;VoiceService&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;X_TPLINK_SpeedDialCfg&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;X_TPLINK_MultiIspDialPlan&quot;, skip the node
[ parseConfigNode ] 521:  Meet unrecognized object node &quot;X_TPLINK_CallLogCfg&quot;, skip the node
Loading A5 (MII0/1 + ATM) driver ...... MAC-0: e8-94-f6-0f-4a-54
MAC-1: e8-94-f6-0f-4a-55
Succeeded!
PPE datapath driver info:
  Version ID: 64.3.7.1.0.1.4
  Family    : VR9
  DR Type   : Normal Data Path | Indirect-Fast Path
  Interface : MII0 | MII1 | ATM
  Mode      : Routing
  Release   : 0.1.4
PPE firmware info:
  Version ID: 7.2.4.6.2.0
  Family    : VR9
  FW Type   : Acceleration
  Interface : MII0/1 + ATM
  Mode      : Bridging + IPv4 Routing
  Release   : 2.0
IFXOS, Version 1.5.14 (c) Copyright 2009, Lantiq Deutschland GmbH

Lantiq CPE API Driver version: DSL CPE API V4.11.4

Predefined debug level: 3
ifx_ppa_api: module license 'unspecified' taints kernel.
Disabling lock debugging due to kernel taint
.....pid 228: wait the running hotplug to end itself.......
PPA API --- init successfully
ifx_ppa_init - init succeeded
sendto: No such file or directory
send 2001 error 244, -1
[ oal_sys_getOldTZInfo ] 330:  Open TZ file error!
ioctl: No such device
device eth0 entered promiscuous mode
br0: port 1(eth0) entering forwarding state
[ rsl_initLanIgmpSnoopObj ] 181:  We need vlan if we want igmp snooping

ath0      no private ioctls.
ath1      no private ioctls.

device eth0 left promiscuous mode
br0: port 1(eth0) entering disabled state
device eth0.2 entered promiscuous mode
device eth0 entered promiscuous mode
br0: port 1(eth0.2) entering forwarding state
device eth0.3 entered promiscuous mode
br0: port 2(eth0.3) entering forwarding state
device eth0.4 entered promiscuous mode
br0: port 3(eth0.4) entering forwarding state
device eth0.5 entered promiscuous mode
br0: port 4(eth0.5) entering forwarding state
*********cal_data*******
020500023537707500000000*********end*******
.....pid 228: wait the running hotplug to end itself.......
ath_hal: 0.9.17.1 (AR5212, AR5416, AR9380, RF5111, RF5112, RF2413, RF5413, RF2316, RF2317, REGOPS_FUNC, WRITE_EEPROM, 11D)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dfs: Version 2.0.0
Copyright (c) 2005-2006 Atheros Communications, Inc. All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_pci: 9.2.0_U10.1020 (Atheros/multi-bss)
PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)
__ath_attach: Set global_scn[0]
ACBKMinfree = 48
ACBEMinfree = 32
ACVIMinfree = 16
ACVOMinfree = 0
CABMinfree = 48
UAPSDMinfree = 0
Restoring Cal data from Flash
dfs_attach: use DFS enhancements
DFS min filter rssiThresh = 18
DFS max pulse dur = 151 ticks
ath_get_caps[5105] rx chainmask mismatch actual 7 sc_chainmak 0
ath_get_caps[5080] tx chainmask mismatch actual 7 sc_chainmak 0
.....pid 228: wait the running hotplug to end itself.......
Register wlan WPS function, dev=0x828a8000
Register wlan button on function
Register wlan button off function
wifi0: Atheros ???: mem=0x1c000000, irq=136 hw_base=0xbc000000
ath_netdev_set_macaddr: ffffffxx:ffffffxx:ffffffxx:xx:xx:xx
wlan_vap_create : enter. devhandle=0x828a82c0, opmode=IEEE80211_M_HOSTAP, flags=0x1
wlan_vap_create : exit. devhandle=0x828a82c0, opmode=IEEE80211_M_HOSTAP, flags=0x1.
VAP device ath0 created 
ath0
ath_netdev_set_macaddr: ffffffxx:ffffffxx:ffffffxx:xx:xx:xx
WARNING: Fragmentation with HT mode NOT ALLOWED!!
Error for wireless request &quot;Set Fragmentation Threshold&quot; (8B24) :
    SET failed on device ath0 ; Invalid argument.
wlan_setAllCfgFile bridgeName br0
Reading topology file /var/Wireless/topology.conf ...
014.636: Reading radio configuration file /var/Wireless/80211g.ap_radio ...

014.637: Reading bss configuration file /var/Wireless/ath0.ap_bss ...

 ieee80211_ioctl_siwmode: imr.ifm_active=131712, new mode=3, valid=1 
014.668: upnp_wps_device_init called
l2_packet_receive - recvfrom: Network is down
ni aponly is null!
ni aponly is null!
.....pid 228: wait the running hotplug to end itself.......
ni aponly is null!
.....pid 228: wait the running hotplug to end itself.......
.....pid 228: wait the running hotplug to end itself.......
l2_packet_receive - recvfrom: Network is down
Before hook ppa
PPA REG DONE, if_id=3, dev_if_index = 15
ath1      no private ioctls.

device ath0 entered promiscuous mode
br0: port 5(ath0) entering forwarding state
Reading topology file /var/Wireless/topology.conf ...
 ieee80211_ioctl_siwmode: imr.ifm_active=918144, new mode=3, valid=1 
020.417: Readinbr0: port 5(ath0) entering disabled state
g radio configuration file /var/Wireless/80211g.ap_radio ...

020.418: Reading bss configuration file /var/Wireless/ath0.ap_bss ...

ni aponly is null!
br0: port 5(ath0) entering forwarding state
020.454: upnp_wps_device_init called
l2_packet_receive - recvfrom: Network is down
.....pid 228: wait the running hotplug to end itself.......
.....pid 228: wait the running hotplug to end itself.......
.....pid 228: wait the running hotplug to end itself.......
br0: port 5(ath0) entering disabled state
l2_packet_receive - recvfrom: Network is down
br0: port 5(ath0) entering forwarding state
sendto: No such file or directory
send 2030 error 244, -1
sendto: No such file or directory
send 2004 error 244, -1
.....pid 228: wait the running hotplug to end itself.......
[ apiSetAdslTypeAndAnnexType ] 1369:  /firmware/dsl_cpe_pipe.sh g997xtusecs 05 00 04 00 04 01 00 00

nReturn=0 
nReturn=0 
nReturn=0 nDirection=0
nReturn=0 nDirection=1
nReturn=4 nDirection=0
nReturn=0 nDirection=1
nReturn=0 

radvd starting
iptables: Bad rule (does a matching rule exist in that chain?)
[ oal_dsl_createMainAtmIf ] 2209:  br2684ctl -b -p 1 -c 0 -e 0 -q ubr,aal5:max_pcr=0,min_pcr=0 -a 0.8.35
.....pid 228: wait the running hotplug to end itself.......
........pid 226: pPlugDevId[0]=, plugDevClass[0]=, plugAction[0]=.........
[ oal_dsl_createMainAtmIf ] 2253:  ifconfig nas0 hw ether 68:94:F6:0F:4A:55
Interface &quot;nas0&quot; created sucessfully
[ oal_dsl_addAtmIf ] 2038:  br2684ctl -b -p 1 -x 1 -c 0 -e 0 -q ubr,aal5:max_pcr=0,min_pcr=0 -a 0.8.35
optarg : ubr,aal5:max_pcr=0,min_pcr=0Interface &quot;nas0_1&quot; created sucessfully
device nas0_1 entered promiscuous mode
br0: port 6(nas0_1) entering forwarding state
iptables: Bad rule (does a matching rule exist in that chain?)
iptables: Bad rule (does a matching rule exist in that chain?)
[ getPidFromPidFile ] 112:  Cann't open file: /var/run/zebra.pid.
[ getPidFromPidFile ] 112:  Cann't open file: /var/run/ripd.pid.
ifx_ppa_init - init succeeded
iptables: Bad rule (does a matching rule exist in that chain?)
ifx_ppa_init - init succeeded
iptables: Bad rule (does a matching rule exist in that chain?)
ifx_ppa_init - init succeeded
iptables: Bad rule (does a matching rule exist in that chain?)
ip6tables: Bad rule (does a matching rule exist in that chain?)
[ rsl_setStorageServiceObj ] 1140:  mountFlag is 3,We start usb server

killall: ushare: no process killed
........pid 228: pPlugDevId[0]=, plugDevClass[0]=, plugAction[0]=.........
uShare (version 1.1a), a lightweight UPnP A/V and DLNA Media Server.
Benjamin Zores (C) 2005-2007, for GeeXboX Team.
See http://ushare.geexbox.org/ for updates.
iptables: Bad rule (does a matching rule exist in that chain?)
iptables: Bad rule (does a matching rule exist in that chain?)
 GPL NetUSB up!
kc  223 : init_DebugD end
INFO176C: NetUSB 1.02.06, 00020620 : Jun 13 2012 16:37:47
INFO176E:  AUTH ISOC
INFO176F:  filterAudio
kc   86 : run_telnetDBGDServer start 
usbcore: registered new interface driver KC NetUSB General Driver
INFO0076:  init proc : PAGE_SIZE 4096
INFO17C8: Check mac address
INFO1640:  infomap c1381994 
INFO1643:  sleep to wait br0 to wake up
INFO02D0:  use dev Name br0 
INFO164C:  sleep to wait br0 end.
INFO1665:  UDP_BROAD 7437 tcpPort:625868800 
INFO02D0:  use dev Name br0 
Enable forwarding
INFO154C: tcpConnector() started...
INFO1429: Bind to br0
&lt;/pre&gt;&lt;/small&gt;}}
&lt;noinclude&gt;[[Category:TP-LINK]]&lt;/noinclude&gt;</text>
      <sha1>oyx0l2z7cfpqckkcw8hf7bkh732awyy</sha1>
    </revision>
  </page>