<page>
    <title>Buffalo WZR-D1800H</title>
    <ns>0</ns>
    <id>2681</id>
    <revision>
      <id>376336</id>
      <parentid>355998</parentid>
      <timestamp>2024-08-15T13:25:47Z</timestamp>
      <contributor>
        <username>ShadowBot</username>
        <id>3357272</id>
      </contributor>
      <minor/>
      <comment>/* top */clean up</comment>
      <origin>376336</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="12790" sha1="3i2gdbrrgrykauougw3kaam97vugrea" xml:space="preserve">{{Infobox Embedded System
|image1             = Buffalo_WZR-D1800H_1.jpg
|image1_size        = 150px
|caption            = AirStation AC1300/N900 Gigabit Dual Band Wireless Router
|caption2           = &lt;!-- 2nd tagleine --&gt;
|pp                 = http://www.buffalotech.com/products/wireless/wireless-routers/airstation-ac1300-n900-gigabit-dual-band-wireless-router-wzr-d1800h/
|sp                 = &lt;!-- Support page url only --&gt;
|dl                 = &lt;!-- Download page url only --&gt;
|wikidevi           = Buffalo_WZR-D1800H
|wikipedia          = &lt;!-- [[wikipedia:Main Page|Wikipedia]] Leave blank for none --&gt;
|ddwrtsupport       = Supported
|openwrtsupport     = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;
|tomatosupport      = Supported
|gargoylesupport    = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;

|brand              = Buffalo
|model              = WZR-D1800H
|submodelappend     = &lt;!-- yes, for space --&gt;
|submodel           = &lt;!-- SubModel number, Leave blank for unknown --&gt;
|revision           = &lt;!-- Model Revision, Leave blank for none or unknown --&gt;
|subrevision        = &lt;!-- Model Subrevision, Leave blank for none or unknown --&gt;
|model_part_num     = 
|page_start_date    = 
|page_start_origon  = 
|wlclass            = AC1750
|series             = &lt;!-- Device series --&gt;
|type               = wireless router
|sernum             = &lt;!-- First 4 or so for easy version identification --&gt;
|fcc_id             = FDI-09101695-0
|icid               = 6102A-041
|us_id              = &lt;!-- US ID number --&gt;
|boardid            = 141911620002J
|ecc_id             = &lt;!-- eec-id --&gt;

|cpu1chip1          = Broadcom;BCM4706;
|cpu1_cores         = 1
|cpu1_type          = MIPS 74Kc
|cpu1_type_rev      = &lt;!-- CPU1 type Revision, Leave blank for unknown --&gt; (R2)
|cpu1spd            = 600 &lt;!-- 600 MHz --&gt;
|is_doc             = 
|bus                = 8-bit

|flash1type         = &lt;!-- Parallel,Serial(SPI),NAND,Compact Flash --&gt;
|fla1_num           = &lt;!-- 1,2,3,4 --&gt;
|fla1chip           = Samsung;K9F1G08U0D-SCB0;
|flash1size         = 128
|flash1maxsize      = &lt;!-- Maximum size firmware can be in bytes --&gt;

|ram1type           = &lt;!-- DDR,DDR2,DDR3,DDR4 --&gt;
|ram1type1          = &lt;!-- SO-DIMM,SDRAM --&gt;
|ram1spd            = &lt;!-- RAM speed --&gt;
|ram1size           = 128
|ram1chip           = EtronTech;EM68B16CWQD-25H;
|ram1_num           = 2
|nvramsize          = 64

|eth_cpu            = true
|sw1chip            = Broadcom;BCM53125;
|wan_ports          = 1
|wan_speed          = 1GbE
|lan_ports          = 4
|lan_speed          = 1GbE
|ethstandard        = &lt;!-- auto --&gt;
|portbasedvlan      = &lt;!-- Support for port based vlan tagging, Leave blank for unknown --&gt;
|802.1qvlan         = &lt;!-- Support for 802.1q vlan tagging, Leave blank for unknown --&gt;
|auto_mdix          = &lt;!-- mdix support --&gt;
|sup_jumbo          = &lt;!-- Jumbo frames support --&gt;
|ethoui             = 10:6F:3F
|oui                = 10:6F:3F

|bootwait           = &lt;!-- On or Off, Leave blank for unknown --&gt;
|stockbootloader    = CFE;;;
|stockos            = Linux;;;

|exp_if_types       = Mini PCIe,USB 2.0
|exp_minipcie_num   = 2
|exp_usb_num        = 1
|usb_hub            = &lt;!-- USB hub compatibility --&gt;

|pwr_volt_type      = VDC
|pwr_vdc            = 12
|pwr_amp_dc         = 3
|pwr_conn           = barrel
|pwr_barrel_outer   = &lt;!-- Outer barrel size in mm --&gt;
|pwr_barrel_inner   = &lt;!-- Inner barrel size in mm --&gt;
|pwr_barrel_len     = &lt;!-- Length of barrel --&gt;
|pwr_pol            = &lt;!-- Connector polarity --&gt;

|serial             = yes,, 10-pin header,, unpopulated,, J9,, (115200 8N1)
|jtag               = &lt;!-- Full JTAG info --&gt;

|specialfeat        = &lt;!-- Features that don't fit any place else, Leave blank for none --&gt;
|flags              = &lt;!-- flags, Leave blank for none --&gt;
|addchip            = &lt;!-- Additional Chips --&gt;
|802dot11_protocols = abgn+ac

|defaulip           = 192.168.11.1
|defaultlogin       = admin
|defaultpass        = password
|defaultssid        = BUFFALO-XXXXXX_A&lt;br&gt;BUFFALO-XXXXXX_G
|defaultssid_regex  = 
|default_ch         = &lt;!-- Defaults channel(s) Radio(s) are set to --&gt;
|manuf              = Arcadyan
|manuf_model        = WA9116B
|manuf_rev          = AC33
|is_manuf           = No
|tpfirmware         = DD-WRT, DD-WRT (kongac), FreshTomato-MIPS

|availability       = common
|eoldate            = &lt;!-- End of Life date --&gt;
|fccapprovdate      = 04/20/2012
|estreldate         = 05/14/2012
|estprice           = 180
|upc                = 747464125138
|ean                = &lt;!-- EAN number --&gt;
|dx_sku             = &lt;!-- DealExtreme sku --&gt;
|newegg             = &lt;!-- newegg item number --&gt;
|asin               = B0084JFLSK
|asin_country       = &lt;!-- ASIN country --&gt;
|asin2              = &lt;!-- ASIN number --&gt;
|asin_country2      = &lt;!-- ASIN country --&gt;
|countrymanuf       = &lt;!-- Country device was manufactured in --&gt;

|buttons            = &lt;!-- buttons available --&gt;
|led                = &lt;!-- Led colors and descriptions --&gt;
|dimensions         = &lt;!-- Size of device {{convert |length|x|widthordepth|x|height|in|mm}} --&gt;
|weight             = &lt;!-- Weight of device {{convert|weight|oz|g}} --&gt;

|wi1_if_name        = 
|rad1mod            = Arcadyan WN8833B-GN
|rad1modif          = Mini PCIe (oversized)
|rad1chip1          = Broadcom;BCM4360;
|rad1oui            = &lt;!-- Only if different from above OUI --&gt; 
|rad1_ant_conn      = U.FL
|rad1txchains       = 3
|rad1rxchains       = 3
|rad1sstreams       = 3
|rad1stand          = IEEE 802.11b/g/n
|rad1n              = 450
|rad1g              = 54
|rad1b              = 11
|rad1freq           = 2.4
|rad1correv         = &lt;!-- core revision, Leave blank for none or unknown --&gt;
|rad1cap            = &lt;!-- radio capabilities, Leave blank for none or unknown --&gt;

|wi2_if_name        = 
|rad2mod            = Arcadyan WN8833B-AC
|rad2modif          = Mini PCIe (oversized)
|rad2chip1          = Broadcom;BCM4360;
|rad2oui            = &lt;!-- Only if different from above OUI --&gt; 
|rad2_ant_conn      = U.FL
|rad2txchains       = 3
|rad2rxchains       = 3
|rad2sstreams       = 3
|rad2stand          = IEEE 802.11a/n/ac
|rad2ac             = 1300
|rad2n              = 450
|rad2a              = 54
|rad2freq           = 5
|rad2correv         = &lt;!-- core revision, Leave blank for none or unknown --&gt;
|rad2cap            = &lt;!-- radio capabilities, Leave blank for none or unknown --&gt;

}}{{TIDTOC|embedded}}
==Overview==
&quot;P/N: 141911620002J R0A&quot; is silkscreened on the main board.&lt;br&gt;
&quot;P/N: 141883320000J R0A&quot; is silkscreened on the 2.4&amp;nbsp;GHz wireless module.
:This device is [[Broadcom]] based. OEM [[Arcadyan]]. 

The BCM4331 wireless module uses 3x [[Skyworks]] (SiGe) SE2594L 
:(Dual Band 802.11a/b/g/n Wireless LAN Front End)
The BCM4360 wireless module uses 3x [[Skyworks]] (SiGe) SE5003L 
:(5GHz, 23dBm Power Amp w/ Power Detector)

*[http://openwrt.org/toh/buffalo/wzr-d1800h On the '''OpenWrt''' wiki]
:Per the lspci dump, the BCM4360 has the PCI ID of '''14e4:43a2'''

==Links of Interest==
*[http://www.buffalotech.com/files/products/WZR-D1800H_datasheet_1.pdf Datasheet]

===Reviews===
*[http://news.cnet.com/8301-17938_105-57441253-1/buffalo-airstation-wzr-d1800h-revew-802.11ac-performance-inconclusive/ Reviewed on '''C|Net''']
*[http://www.smallnetbuilder.com/wireless/wireless-reviews/31754-draft-80211ac-revealed-buffalo-wzr-d1800h-airstation-reviewed-part-1 Review on '''SmallNetBuilder''', part 1]
*[http://www.smallnetbuilder.com/wireless/wireless-reviews/31766-draft-80211ac-goes-the-distance-buffalo-wzr-d1800h-airstation-reviewed-part-2 Review on '''SmallNetBuilder''', part 2] (10:6F:3F OUI)
:The ''[[Arcadyan]]'' model of the device ''may'' be WG9116AAC-J6.
:&quot;P/N: 141911620002J R01&quot; is silkscreened on the main board.
:&quot;P/N: 141883320008J&quot; is silkscreened on the 5GHz wireless module.
:The silkscreened manuf. date code is '''1215''' (third week of ''April'').
:Default SSIDs appear to be '''BUFFALO-XXXXXX_A''' and '''BUFFALO-XXXXXX_G''' 
::(upper case letters, LAN MAC is probably the MAC used for both).

===Forum threads===
*[http://www.dd-wrt.com/phpBB2/viewtopic.php?t=154644 On the '''DD-WRT''' forums], [http://www.dd-wrt.com/phpBB2/viewtopic.php?t=155100 and another post with the initial test build]
:Not bundled with DD-WRT, but work has been completed to support, 
:see [http://www.dd-wrt.com/phpBB2/viewtopic.php?t=155100 this thread] for the latest test build.

===News===
*[http://www.buffalotech.co.uk/buffalo-showcases-cutting-edge-wireless-technology.html ''Buffalo showcases cutting-edge wireless technology'']

==Flashing==
{{Flashnotice}}
===Flashing dd-wrt===
{{DDWRTNotice|beta}}
nvram shows as 256 KB with DD-WRT installed

* .bin files are for initial flash, .trx files are for [[#Upgrading DD-WRT|upgrading]].

# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]
# Upload [http://www.dd-wrt.com/phpBB2/download.php?id=24671 DD-WRT] via GUI
# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]

==Upgrading==
===Upgrading DD-WRT===
* trx files are for upgrading, bin files are for [[#Flashing DD-WRT|initial flash]].

# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]
# Upload [http://www.dd-wrt.com/phpBB2/download.php?id=24670 DD-WRT] via GUI
# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]

==Reverting==
===Reverting from DD-WRT to OEM firmware===
# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]
# Upload [http://www.dd-wrt.com/phpBB2/download.php?id=24165 Buffalo Firmware] via GUI
# Do a [[Project:DD-WRT/Hard reset or 30/30/30|Hard Reset]]

==JTAG-Serial Info==
{{:Buffalo WZR-D1800H/Opening this unit}}
See details [[Buffalo WZR-D1800H/Opening this unit|here]]

===Serial===
====Serial Pinouts====
:J9
&lt;pre&gt;
 1 o VCC
 2 o GND
 3 o RX
 4 o TX
&lt;/pre&gt;

==USB Info==
{{USB dd-wrt}}

==Pictures==
&lt;center&gt;'''Buffalo's Images'''&lt;gallery&gt;
File:Buffalo_WZR-D1800H_1.jpg|angled
File:Buffalo_WZR-D1800H_2.jpg|front
File:Buffalo_WZR-D1800H_3.jpg|front on side
File:Buffalo_WZR-D1800H_4.jpg|back
File:Buffalo_WZR-D1800H_5.jpg|side
File:Buffalo_WZR-D1800H_6.jpg|angled2
&lt;/gallery&gt;&lt;/center&gt;[[Has images::retail| ]]
{{FCCID FDI-09101695-0}}

==Notes==
===jffs Issue in DD-WRT===
This problem is caused by the firmware encountering an unmarked bad block during an 
:erase operation while attempting to setup a JFFS2 filesystem on device /dev/mtd/4.

Most people will probably never experience this problem. The [[Asus RT-AC66U|AC66U]], the D1800H, and 
:the Buffalo [[Buffalo AirStation WLI-H4-D1300|WLI-H4-D1300 Media Bridge]] use the same Samsung flash memory chip. 
In case, 4 of 5 D1800H's had the problem but [[Buffalo AirStation WLI-H4-D1300|D1300]] didn't. Neither of [[Asus RT-AC66U|AC66U]]'s had the problem. 
:One person on one of the [[Asus RT-AC66U|AC66U]] threads reported having the problem; here's a link to his post.

If you have the problem, you will not be able to create or copy directories and files to /jffs.
:Here are some example error messages: (this list was shortened to save space - it can go on for several pages)

&lt;div style=&quot;border: solid thin gray; overflow:auto;&quot;&gt;&lt;syntaxhighlight lang=&quot;bash&quot;&gt;
root@WZR-D1800HRT2:~# dmesg|grep jffs
jffs2: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x05ee0020: 0xe952 instead
jffs2: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x05ee0024: 0x0e6d instead
jffs2: Further such events for this erase block will not be printed
jffs2: Old JFFS2 bitmask found at 0x05efc7fc
jffs2: You cannot use older JFFS2 filesystems with newer kernels
jffs2: Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes
jffs2: empty_blocks 379, bad_blocks 1, c-&gt;nr_blocks 760
&lt;/syntaxhighlight&gt;&lt;/div&gt;

Also the Status -&gt; Router webpage will show that JFFS2 has no free space.

To fix this problem try the following at a command line prompt:

&lt;div style=&quot;border: solid thin gray; overflow:auto;&quot;&gt;&lt;syntaxhighlight lang=&quot;bash&quot;&gt;
flash_erase -j /dev/mtd/4 0 0 &amp;&amp; reboot
&lt;/syntaxhighlight&gt;&lt;/div&gt;

This command erases and marks bad any bad blocks encountered so that they can be &quot;skipped&quot; 
:and formats the partition to JFFS2 specifications. 
I believe the firmware uses the mtd erase command which seems to fail at handling bad blocks. 
:The flash_erase command needs to be run only once.

- '''Magnetron1.1'''

==See also==
*[[Buffalo AirStation WSR-1166DHP]] • [[Arcadyan]] WG9115AAC22
*[[Buffalo WZR-600DHP2]] • [[Arcadyan]] WG9116H22 (BCM47081A0)
*[[Buffalo WZR-900DHP]] • [[Arcadyan]] WG9116H33 (BCM47081A0)
*[[Buffalo WZR-1166DHP]] • [[Arcadyan]] WG9117EAC22 (BCM4708A0)
*[[Buffalo WZR-1750DHP]] • [[Arcadyan]] WG9117GAC33 (BCM4708A0)
*Buffalo WZR-D1800H • [[Arcadyan]] WA9116BAC33 (BCM4706)

[[Category:English Documentation]]</text>
      <sha1>3i2gdbrrgrykauougw3kaam97vugrea</sha1>
    </revision>
  </page>