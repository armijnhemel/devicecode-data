<page>
    <title>Netgear WNR834Bv2</title>
    <ns>0</ns>
    <id>6183</id>
    <revision>
      <id>380217</id>
      <parentid>359292</parentid>
      <timestamp>2024-08-16T13:54:10Z</timestamp>
      <contributor>
        <username>ShadowBot</username>
        <id>3357272</id>
      </contributor>
      <minor/>
      <comment>/* top */clean up</comment>
      <origin>380217</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="16698" sha1="ku68jj7q06yv8wjiopiyhk2vjaoepai" xml:space="preserve">{{Infobox Embedded System
|image1             = &lt;!-- Image filename --&gt;
|image1_size        = &lt;!-- Image size, ex.150px --&gt;
|caption            = RangeMax NEXT Wireless-N Router
|caption2           = &lt;!-- 2nd tagleine --&gt;
|pp                 = &lt;!-- product page url only --&gt;
|sp                 = https://www.netgear.com/support/product/WNR834Bv2
|dl                 = &lt;!-- Download page url only --&gt;
|fandom             = Netgear_WNR834B_v2.0
|wikidevi           = Netgear_WNR834Bv2
|wikipedia          = &lt;!-- [[wikipedia:Main Page|Wikipedia]] Leave blank for none --&gt;
|ddwrtsupport       = &lt;!-- Activation, Donation, Incompatible, Not Supported, Partial Support, Supported, TBD, Unofficially, WIP --&gt;
|openwrtsupport     = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;
|tomatosupport      = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;
|gargoylesupport    = &lt;!-- Incompatible, Not Supported, Partial Support, Supported, WIP, Unofficially, --&gt;

|brand              = Netgear
|model              = WNR834
|submodelappend     = &lt;!-- yes, for space --&gt;
|submodel           = B
|revision           = v2
|subrevision        = &lt;!-- Model Subrevision, Leave blank for none or unknown --&gt;
|model_part_num     = 
|page_start_date    = 09/21/2010
|page_start_origon  = https://infodepot.fandom.com/wiki/Netgear_WNR834B_v2.0
|wlclass            = N300
|series             = &lt;!-- Device series --&gt;
|type               = wireless router
|sernum             = &lt;!-- First 4 or so for easy version identification --&gt;
|fcc_id             = PY307100061
|icid               = 4054A-0710061
|us_id              = &lt;!-- US ID number --&gt;
|boardid            = &lt;!-- Board Identification, Leave blank for none --&gt;
|ecc_id             = &lt;!-- eec-id --&gt;

|cpu1chip1          = Broadcom;BCM4704;BCM4704KPBG, CK0833 P12, 887360 R2;
|cpu1_cores         = 1
|cpu1_type          = MIPS32
|cpu1_type_rev      = &lt;!-- CPU1 type Revision, Leave blank for unknown --&gt;
|cpu1spd            = 264
|is_doc             = 
|bus                = &lt;!-- 8-bit, 16-bit, 32-bit, 64-bit, Leave blank for none --&gt;

|flash1type         = &lt;!-- Parallel,Serial(SPI),SPI NOR,NAND,Compact Flash, --&gt;
|fla1_num           = &lt;!-- 1,2,3,4 --&gt;
|fla1chip           = Macronix;MX29LV320CBTC-90G;
|flash1size         = 4
|flash1maxsize      = &lt;!-- Maximum size firmware can be in bytes --&gt;

|ram1type           = &lt;!-- DDR,DDR2,DDR3,DDR4, --&gt;
|ram1type1          = &lt;!-- SO-DIMM,SDRAM, --&gt;
|ram1spd            = &lt;!-- RAM speed --&gt;
|ram1size           = 16
|ram1chip           = Samsung;K4S641632K-UC75;
|ram1_num           = 2
|nvramsize          = &lt;!-- 32, 60, 64, etc... in kb, Leave blank for unknown --&gt;

|eth_cpu            = true
|sw1chip            = Broadcom;BCM5325F;BCM5325FKQMG, RS0851 P11, 904953 1A;
|wan_ports          = 1
|wan_speed          = &lt;!-- 10MbE,100MbE,1GbE, --&gt;
|lan_ports          = 4
|lan_speed          = 100MbE
|ethstandard        = IEEE 802.3/3u
|portbasedvlan      = &lt;!-- Support for port based vlan tagging, Leave blank for unknown --&gt;
|802.1qvlan         = &lt;!-- Support for 802.1q vlan tagging, Leave blank for unknown --&gt;
|auto_mdix          = &lt;!-- mdix support --&gt;
|sup_jumbo          = &lt;!-- Jumbo frames support --&gt;
|ethoui             = 00:1B:2F, 00:1E:2A, 00:1F:33, 00:22:3F, 00:24:B2
|oui                = 00:1B:2F, 00:1E:2A, 00:1F:33, 00:22:3F, 00:24:B2

|bootwait           = &lt;!-- On or Off, Leave blank for unknown --&gt;
|stockbootloader    = CFE;1.0.37;BCM947XX;
|stockos            = Linux;2.4.20;;

|exp_if_types       = &lt;!-- Expansion Interface types, Leave blank for none --&gt;
|exp_sim_num        = &lt;!-- Number of sim Slots, Leave blank for none --&gt;
|exp_pcmcia_num     = &lt;!-- Number of pcmcia ports, Leave blank for none --&gt;
|exp_expcard_num    = &lt;!-- Number of Expresscard ports, Leave blank for none --&gt;
|exp_minipci_num    = &lt;!-- Number of Mini PCI Slots, Leave blank for none --&gt;
|exp_minipcie_num   = &lt;!-- Number of Mini PCIexpress Slots, Leave blank for none --&gt;
|exp_usb_num        = &lt;!-- Number of USB Ports, Leave blank for none --&gt;
|exp_cf_num         = &lt;!-- Number Compact Flash Slots, Leave blank for none --&gt;
|exp_sdmmc_num      = &lt;!-- Number SD/MMC Slots, Leave blank for none --&gt;
|exp_ide_num        = &lt;!-- Number of ide ports, Leave blank for none --&gt;
|exp_ata_num        = &lt;!-- Number of ATA Ports, Leave blank for none --&gt;
|exp_sata_num       = &lt;!-- Number of sata ports, Leave blank for none --&gt;
|exp_esata_num      = &lt;!-- Number of esata ports, Leave blank for none --&gt;
|exp_parallel       = &lt;!-- Number of parallel ports, Leave blank for none --&gt;
|exp_sfp_num        = &lt;!-- Number of sfp ports, Leave blank for none --&gt;
|exp_M.2            = &lt;!-- Number of M.2 ports, Leave blank for none --&gt;
|exp_hdmi_num       = 
|usb_hub            = &lt;!-- USB hub compatibility --&gt;

|pwr_volt_type      = VDC
|pwr_vdc            = 12
|pwr_amp_dc         = 1
|pwr_conn           = barrel
|pwr_barrel_outer   = &lt;!-- Outer barrel size in mm --&gt;
|pwr_barrel_inner   = &lt;!-- Inner barrel size in mm --&gt;
|pwr_barrel_len     = &lt;!-- Length of barrel --&gt;
|pwr_pol            = &lt;!-- Connector polarity --&gt;

|serial             = yes,, internal,, 6-pin header,, unpopulated,, 3.3V TTL,, (115200 8N1),, JP1
|jtag               = yes,, internal,, 10-pin header,, unpopulated,, J12

|specialfeat        = &lt;!-- Features that don't fit any place else, Leave blank for none --&gt;
|flags              = &lt;!-- flags, Leave blank for none --&gt;
|addchip            = 2.4GHz Power Amplifier IC;Skyworks;SE2528L;;2;
|802dot11_protocols = bgn

|defaulip           = 192.168.1.1
|defaultlogin       = admin
|defaultpass        = password
|defaultssid        = NETGEAR
|defaultssid_regex  = ^NETGEAR$
|default_ch         = &lt;!-- Defaults channel(s) Radio(s) are set to --&gt;
|manuf              = Foxconn
|manuf_model        = U12H081
|manuf_rev          = &lt;!-- Manufacturer Revision --&gt;
|is_manuf           = No
|tpfirmware         = DD-WRT

|availability       = &lt;!-- Market availability --&gt;
|eoldate            = &lt;!-- End of Life date --&gt;
|fccapprovdate      = 06/04/2007
|estreldate         = &lt;!-- Estimated release date --&gt;
|estprice           = &lt;!-- Estimated retail price in US dollars --&gt;
|upc                = 606449041415
|ean                = &lt;!-- EAN number --&gt;
|dx_sku             = &lt;!-- DealExtreme sku --&gt;
|newegg             = &lt;!-- newegg item number --&gt;
|asin               = B000FFRZ1W
|asin_country       = US
|asin2              = &lt;!-- ASIN number --&gt;
|asin_country2      = &lt;!-- ASIN country --&gt;
|countrymanuf       = China

|buttons            = &lt;!-- buttons available --&gt;
|led                = &lt;!-- Led colors and descriptions --&gt;
|dimensions         = &lt;!-- Size of device {{convert |length|x|widthordepth|x|height|in|mm}} --&gt;
|weight             = &lt;!-- Weight of device {{convert|weight|oz|g}} --&gt;

|wi1_if_name        = 
|rad1chip1          = Broadcom;BCM4321;BCM4321LKFBG, HN0902 P11, 097437 N3;
|rad1chip2          = Broadcom;BCM2055;BCM2055KFBG, HP0839 P20, 894203 R1;
|rad1oui            = &lt;!-- Only if different from above OUI --&gt;
|rad1_ant_conn      = U.FL
|rad1txchains       = 2
|rad1rxchains       = 2
|rad1sstreams       = 2
|rad1stand          = IEEE 802.11b/g/n
|rad1n              = 300
|rad1g              = 54
|rad1b              = 11
|rad1freq           = 2.4
|rad1correv         = 11
|rad1cap            = &lt;!-- radio capabilities, Leave blank for none or unknown --&gt;

}}{{TIDTOC|embedded}}
==Overview==
&quot;U12H081&quot;, &quot;REV. 3 GP&quot;, and &quot;800063&quot; is silkscreened on one production model WN834Bv2.

==Links of Interest==
===Wikis===
*[http://wiki.openwrt.org/toh/netgear/wnr834b On '''OpenWrt''' Wiki]

===Forums===
*[http://www.dd-wrt.com/phpBB2/viewtopic.php?t=79498 Part numbers noted the '''DD-WRT''' forums]

==Flashing==
{{Flashnotice}}
===Flashing dd-wrt===
Supported by dd-wrt as of = v24 build 5966 20070222

(See Important Notes below before attempting to flash)
{|style=&quot;width:800px;margin-top:+.7em;border:2px dotted #f00;text-align:left&quot;
|-
|style=&quot;width:1em;color:#000&quot;|
[[Image:Warning.png]]
|style=&quot;width:45em;&quot;|&lt;div style='color:red; font-weight:bold'&gt;Do not use bin/chk files from the router database older than svn12188. Currently, they are bricking routers. Once this problem is sorted out, this message will be removed. Also you might want a build higher than 12533 because the root-exploit (milw0rm) on older versions.&lt;/div&gt;  [[dd-wrt:User:Sparkie|Sparkie]] Updated by [[dd-wrt:User:redhawk0|redhawk0]]

This file worked perfectly with my router:
* dd-wrt.v24-15508_NEWD_openvpn_jffs_small.bin - [[dd-wrt:User:Tmittelstaedt|Tmittelstaedt]]

This file bricked my router, while earlier versions seem to work:
* dd-wrt.v24-13577_NEWD_openvpn_jffs_small.bin - [[dd-wrt:User:deadlyninja|deadlyninja]]
|-
|}

**This router does not have VLAN support, similar to the WRT610N.**

The Netgear WNR834Bv2 is now fully supported as of 3rd July 2008. Thanks to Eko, Brainslayer, etc. for their superb work in getting this router supported.

These (slightly modified) instructions were first posted by sparkie [http://www.dd-wrt.com/phpBB2/viewtopic.php?t=21255&amp;start=332 here]. Read that complete thread for the hairy details on getting this device fully supported, if you are so interested or suffer from insomnia.

'''Step 1:''' Download the mini version of DD-WRT version 24, build 12548, new driver in the dot CHK format [http://www.dd-wrt.com/dd-wrtv2/downloads/others/eko/V24_TNG/svn12548/dd-wrt.v24-12548_NEWD_mini_wnr834bv2.chk here].

'''Step 2:''' Flash the firmware to your router using Netgear's factory firmware standard web interface. Note that to successfully flash this device, you may need to use IE or Firefox 3 or higher. sparkie has reported in the thread linked above that Firefox 2 will '''not''' work with the Netgear factory web upgrade page to flash this device.

'''Step 3:''' If the mini build is insufficient for your needs, you may download your preferred flash BIN file from [http://www.dd-wrt.com/dd-wrtv2/down.php?path=downloads%2Fothers%2Feko%2FV24_TNG%2Fsvn12548/ here]. Then flash up the new .BIN file using the DD-WRT web interface from the Administration tab, then the Firmware Upgrades tab.

'''Important Notes (Please read these in full before attempting to flash):'''

* DO NOT ATTEMPT TO FLASH ANY BUILDS EARLIER THAN 9856 DATED 3RD JULY 2008, or you risk bricking your router. Some of the v24 release candidate 7s worked with minor bugs. But the first final v24 bricked the router for some users as a result of a problem with JFFS.

* TFTP flashing only works when the router detects a bad flash and puts itself in diagnostic mode. This can be seen by a flashing green power light, and also a ping trace will show response immediately after powerup with TTL=100. Proper flashes will stop replying to pings after about 15 seconds, then will reply with TTL=64. Diag mode will stay at TTL=100. Diag mode can be forced by opening the router and shorting pins 16 and 17 on the MX flash chip during powerup. Some suggest you try the pin short first, other suggest JTAG. Both have their pros and cons.

* TTL=100 3~6 times means your router is bricked. No amount of uploading an image via tftp at the proper time will work. It will require a pin short, or jtag to fix. It is '''futile''' to try and achieve perfect timing to upload an image in this mode.

* NEWD = New Drivers; VINT = Vintage Drivers. Use only NEWD firmwares with this router. VINT builds are for much older routers.

* DO NOT INSTALL the generic broadcom dd-wrt.v24_std_generic.bin file (2.4 SP1). It will likely brick your router.

* If your router is stuck in 'tftp only' mode (characterized by a constant TTL=100 ping response), you can rescue it by TFTPing the original Netgear firmware less the header file located [http://www.dd-wrt.com/phpBB2/download.php?id=5495 here], which will flash your router back to Netgear's stock 1.0.22 North America firmware. This file is called wnr834bv2_1_0_22_na.bin

* For routers will a more recent flash, you will need the 2.1.13 version of the flashes [http://www.dd-wrt.com/phpBB2/download.php?id=6905 2.1.13_NA] / [http://www.dd-wrt.com/phpBB2/download.php?id=6906 2.1.13_WW]

* Your router has only 4 MB of Flash RAM. Do not attempt to flash the MEGA version of DD-WRT to this device.

'''DOUBLE SUPER DUPER Extremely Important Note:'''

According to Eko, the NVRAM of this router has an additional partition on it which contains your router's serial number, MAC address, and board code. DD-WRT builds prior to 9856 would overwrite this section of NVRAM, if the user enabled JFFS. Builds 9856 and higher include support for turning JFFS on with this model router. In the event that you accidentally erase this part of the NVRAM, you can only recover your router by flashing it via JTAG.


This also implies that if you want to use the OpenVPN version, you'll want one with an openvpn_jffs_small suffix like [http://www.dd-wrt.com/dd-wrtv2/downloads/others/eko/V24_TNG/svn12121/dd-wrt.v24-12121_NEWD_openvpn_jffs_small.bin THIS] one (current as of 15/5/2009).

==Upgrading==
{{Upgrade dd-wrt}}

==JTAG-Serial Info==
===JTAG===
====JTAG Pinouts====
 J12 Pin 1 connected to JP1 pin 1 via 100 ohm resistor. 
 
 J12 Pin 3 --100r--&gt; TDI (Pin 2 of parallel port) 
 J12 Pin 5 --100r--&gt; to TD0 (Pin 13 of parallel port) 
 J12 Pin 7 --100r--&gt; to TMS (Pin 4 of parallel port) 
 J12 Pin 9 --100r--&gt; to TCK (Pin 3 of parallel port) 
 J12 Pin 10 -------&gt; to GND (Pin 20&amp;25 of parallel port)
 
* Functional NVRAM backup is [http://www.dd-wrt.com/phpBB2/download.php?id=4233 here].
* Functional CFE backup is [http://www.dd-wrt.com/phpBB2/download.php?id=4232 here].
* Functional Custom backup is [http://www.dd-wrt.com/phpBB2/download.php?id=5501 here]. '''(REQUIRES MODIFICATION OF MAC ADDRESS)'''
* Tornado's JTAG v2.1.4 is [http://www.dd-wrt.com/dd-wrtv2/downloads/others/tornado/jtag/tjtagv2-1-4.zip here].

====JTAG Recovery====
One of the best [http://www.dd-wrt.com/phpBB2/viewtopic.php?t=54770 threads] that has been found for debricking the WNR834Bv2.

The fastest way to recover a bricked WNR834Bv2 is to wipe the kernel portion of the flash, and reflash the custom section.

* 1. Download one of the binpacks [http://www.dd-wrt.com/phpBB2/download.php?id=6906 WNR834Bv2 World Wide]. [http://www.dd-wrt.com/phpBB2/download.php?id=6905 WNR834Bv2 North America], and the [http://www.dd-wrt.com/phpBB2/download.php?id=5501 custom.bin]
* 2. JTAG the router
* 3. Erase the kernel portion of the flash
* 4. Reflash the 'custom' section of the flash (hex edit the custom.bin and put your own MAC address in at offset 40~45!)
* 4a. flash parameters: -flash:custom /window:1fc00000 /start:1ffe0000 /length:10000
* 5. Power cycle the router and the router will respond with a constant ttl=100 ping response
* 6. TFTP a '''dot CHK''' file appropriate to your router (NA or WW)
* 6a. You will know that the transfer was completed and the flash process is working when router power light blinks amber on and off once per second. After a few minutes, the router will begin to respond with a ttl=64 ping and will be functional again.

'''RECOVERY PROCESS VIA PIN SHORT'''
* [http://www.dd-wrt.com/phpBB2/files/wnr834bv2_tsop_jtag_180_184.jpg Pin Locations].
* Short pins 16 &amp; 17
* Power up router
* Open two command prompt/console windows
* Start a ping of the router, it should respond with TTL=100
* Initiate TFTP upload of a .chk file (DD-WRT or one of the stock Netgear ones)
* Immediately remove the short
* You will know that the transfer was completed and the flash process is working when router power light blinks amber on and off once per second. After a '''few minutes''', the router will begin to respond with a ttl=64 ping and will be functional again. (Yes, it actually does take 2~3 minutes)

===Serial===
====Serial Pinouts====
This is a common ''Netgear'' / ''Foxconn'' pinout..
&lt;pre&gt;
 1         JP1
(3.3v) (RxD) (NC)  (NC)  (TxD)  (GND)
&lt;/pre&gt;

{{/Serial info}}

==Notes==
'''FAULTY POWER SUPPLY'''

Many of the factory refurb WNR834B v1 and v2 routers sold in 2008 through frys.com, geeks.com, tigerdirect.com, and woot.com were shipped with a marginal or defective power supply manufactured by DVE. These units are smaller than traditional power supplies, and can be identified by the following information:

P/N: 332-10006-01

MODEL: DSA-12R-12 AUS 120120

The routers will operate perfectly with only 9VDC @ 800mA, but older-style surplus Netgear power supplies that output 12VDC @ 1A are available from AllElectronics.com as [http://www.allelectronics.com/make-a-store/item/DCTX-1216/12-VDC-1.2-AMP-WALL-TRANSFORMER/-/1.html DCTX-1216]

[[Category:English Documentation]]</text>
      <sha1>ku68jj7q06yv8wjiopiyhk2vjaoepai</sha1>
    </revision>
  </page>