<page>
    <title>Linksys WRT54GS v1.1</title>
    <ns>0</ns>
    <id>52094</id>
    <revision>
      <id>376372</id>
      <parentid>323886</parentid>
      <timestamp>2021-10-05T23:26:33Z</timestamp>
      <contributor>
        <username>Omega</username>
        <id>24</id>
      </contributor>
      <comment>fixed ;</comment>
      <origin>376372</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="11199" sha1="8cidvwhhrpophpj1tiln5wy72kdq6hu" xml:space="preserve">{{Wireless embedded system
|brand=Linksys
|model=WRT54GS
|revision=v1.1
|series=WRT54GS
|image1=Linksys_WRT54GS.jpg
|image1_size=200px
|serialnum_prefix=CGN2
|fcc_date=09/17/2004
|manuf_country=China
|is_manuf=No
|manuf=CyberTAN
|type=wireless router
|fcc_id=Q87-WT54GV22
|ic_id=3839A-WT54GV22
|pwr_v=12
|pwr_amp=1
|pwr_conn=barrel
|cpu1_brand=Broadcom
|cpu1_model=BCM4712;BCM4712LKFB; &lt;!-- (BCM4712 chip rev1) --&gt;
|cpu1_cspeed=200
|fla1=8
|fla1_brand=Intel
|fla1_model=TE28F640J3C-120 &lt;!--TE28F640, J3C120, A4287026--&gt;
|ram1=32
|ram1_brand=Hynix
|ram1_model=HY5DU561622DT-J &lt;!--435U, HY5DU561622DT-J--&gt;
|jtag=yes,, 12-pin header,, unpopulated,,
|serial=yes,, 10-pin header,, unpopulated,, (115200 8N1)
|wi1_chip1_brand=Broadcom
|wi1_chip1_model=BCM4712;BCM4712LKFB; &lt;!-- (BCM4712 chip rev1) --&gt;
|wi1_chip2_brand=Broadcom
|wi1_chip2_model=BCM2050;BCM2050KML;
|wi1_802dot11_protocols=bg
|wi1_ant_conn=RP-TNC
|eth_cpu=yes
|sw_brand=Broadcom
|sw_model=BCM5325E;BCM5325EKFBG;
|lan_speed=100M
|lan_ports=4
|wan_speed=100M
|wan_ports=1
|stock_boot=CFE
|stock_os=Linux;2.4;
|tp_firmware=DD-WRT,OpenWrt,Tomato,TomatoUSB, Broadband-Hamnet
|802dot11_protocols=bg
|default_ssid=Linksys
|default_ssid_regex=^Linksys$
|default_ip=192.168.1.1
|default_pass=admin
|oui=00:13:10
|oui_eth=00:13:10
}}
{{TagLine|Wireless-G Broadband Router with SpeedBooster}}
:{{SupportPage|vendor=Linksys|model=WRT54GS}}

*[http://downloads.linksys.com/downloads/wrt54gsv7-ds,9.pdf Datasheet.pdf]
*[http://downloads.linksys.com/downloads/userguide/WRT54GS_UG_WEB_20070529.pdf User Guide.pdf]
*[http://downloads.linksys.com/downloads/quickinstall/wrt54gs_qi_1.pdf Quick Install.pdf]

==Links of Interest==
*[http://en.wikipedia.org/wiki/Linksys_WRT54G_series ''Linksys WRT54G series'' on '''Wikipedia''']
*[http://www.dd-wrt.com/wiki/index.php/Linksys_WRT54G/GL/GS/GX ''Linksys WRT54Gxx page'' on '''DD-WRT''' wiki]
*[http://www.dd-wrt.com/phpBB2/viewtopic.php?t=56974 ''Linksys WRT54GS v1.1'' on '''DD-WRT''' forums]
*[http://wiki.openwrt.org/oldwiki/openwrtdocs/hardware/linksys/wrt54gs ''Linksys WRT54G/GL/GS page'' on '''OpenWrt''' wiki]
*[http://linksyswrt54.blogspot.com/2009/03/13-wrt54gs-v10-wrt54g-v20-mmcsd-mod.html ''WRT54GS v1.0/v2.0 MMC/SD Mod''] (Bulgarian)

==Flashing==
{{Flashnotice}}
===Flashing DD-WRT===
{{ombox | type = notice | text = &lt;big&gt;'''NOTE:'''&lt;/big&gt; '''Resetting to factory defaults via reset button or mtd erase nvram is safe on this unit. '''}}
{{DDWRTNotice|vintstable}}
{{DDWRTNotice|k24req}}
*[[dd-wrt-wiki:Linksys WRT54GS v1.1|Linksys WRT54GS v1.1]]

====NEWD or VINT====
WRT54GS v1.1 uses the ''Broadcom BCM4712 chip rev 1'' but since the &quot;wl0_corerev&quot; is '''7''' 
:(see [[WikiDevi:DD-WRT/NEWD or VINT|NEWD or VINT]] for more info) WRT54GS v1.1 users should use standard NEWD builds

====How to Flash====
Make sure to get all the files you need first.
Start with [ftp://dd-wrt.com/others/eko/BrainSlayer-V24-preSP2/09-08-09-r12874/broadcom/dd-wrt.v24_mini_wrt54g.bin dd-wrt.v24_mini_generic.bin]

# Perform a [[WikiDevi:DD-WRT/Hard reset or 30/30/30|Hard reset or 30/30/30]]
# Upload dd-wrt through the firmware update page
# &lt;font color=red&gt;'''WAIT'''&lt;/font&gt; for at least five minutes before you continue! (longer is better) Give the router plenty of time to to boot.
# Perform a [[WikiDevi:DD-WRT/Hard reset or 30/30/30|Hard reset or 30/30/30]]
# &lt;font color=red&gt;'''WAIT'''&lt;/font&gt; for at least five minutes before you continue! (longer is better) Give the router plenty of time to to boot.
# Power Cycle
# Open your browser to http://192.168.1.1. Configure to your liking. Enjoy.
# Check for recommended builds [[WikiDevi:DD-WRT#Recommended_Builds|here]].

===Flashing OpenWrt===
*[[openwrtwiki:oldwiki/openwrtdocs/hardware/linksys/wrt54gs|Linksys WRT54GS]]

===Flashing Tomato===
*[http://www.polarcloud.com/tomatofaq#what_will_this_run_on Supported]
*[http://tomatousb.org/doc:build-types Support Chart at Bottom]

===Flashing Gargoyle===
*[http://www.gargoyle-router.com/wiki/doku.php?id=install_guide Supported]

==Upgrading==
{{Upgrade dd-wrt}}

==Reverting==
===Reverting to OEM Firmware from DD-WRT===
# Read the peacock announcement found here: http://www.dd-wrt.com/phpBB2/viewtopic.php?t=51486
# Do a [[WikiDevi:DD-WRT/Hard reset or 30/30/30|Hard reset or 30/30/30]] on the router according to note 1 of the peacock announcement (30/30/30)
# Set a static IP on your computer to 192.168.1.7. Subnet mask should be 255.255.255.0.
# Connect the lan cable from your computer to a LAN port of your router. Make sure your router is plugged in. Nothing should be connected to your computer or the router except the LAN cable between them. Turn your firewall and any wireless computer connections OFF.
# Power cycle the router (unplug the power from the router for 30 seconds and then plug it back in)
# Open your browser to 192.168.1.1 by putting that in the browser address window of your browser. You should open the linksys webgui and NOT a page that says Management Mode. If you see management mode, power cycle the router again.
# Enter your username and password
# Go to administration and firmware upgrade
# Navigate to the folder that you are using, and select [http://homedownloads.cisco.com/downloads/firmware/WRT54GSv3_4.71.4.001_fw.bin WRT54GSv3_4.71.4.001_fw.bin] once you've unzipped it.
# Hit upgrade
# When you get a success, wait FIVE FULL minutes.
# When you can again access the Linksys webgui using a browser at 192.168.1.1, do another [[WikiDevi:DD-WRT/Hard reset or 30/30/30|Hard reset or 30/30/30]] on the router.
# Reset your computer Ethernet connection to auto IP and auto DNS

==JTAG-Serial Info==
===JTAG===
====JTAG Pinouts====
&lt;pre style=&quot;border: solid thin gray; font-size:90%; width:200px; overflow:auto;&quot;&gt;
 nTRST  1o o2  GND
   TDI  3o o4  GND
   TDO  5o o6  GND
   TMS  7o o8  GND
   TCK  9o o10 GND
 nSRST 11o o12 N/C
&lt;/pre&gt;
'''Using [[WikiDevi:JTAG/TIAO/Universal JTAG User Manual (Parallel)|Universal JTAG Adapter]]'''
&lt;pre style=&quot;border: solid thin gray; font-size:90%; width:200px; overflow:auto;&quot;&gt;
  white  1o o2	black
    red  3o o4	GND
   blue  5o o6	GND
  green  7o o8	GND
 yellow  9o o10 GND
 orange 11o o12 N/C
&lt;/pre&gt;
* /noemw switch required for flash

====DD-WRT JTAG Recovery====
JTAG:
# Backup CFE x2 (Compare the files, they must match exactly or there is something wrong with your JTAG setup)
# Erase Wholeflash x2
# Flash CFE
# Unplug Power
# Unplug JTAG Cable

TFTP:
# Set Rig ip static 192.168.1.10
# Plug network cable from rig to port 1
# Get TFTP ready, server ip - 192.168.1.1, Password - blank, file - [ftp://dd-wrt.com/others/eko/BrainSlayer-V24-preSP2/older/12-28-09-r13525/broadcom/dd-wrt.v24_mini_generic.bin dd-wrt.v24_mini_generic.bin]
# Plug in power
# Wait for DMZ light to do a steady pulse, When it is lit on the 3rd time click upgrade. The DMZ light must be lit when you click upgrade.
# Hard Reset 30\30\30

===Serial===
====Serial Pinouts====
&lt;pre style=&quot;border: solid thin gray; font-size:90%; width:200px; overflow:auto;&quot;&gt;
 VCC 1 o o 2  VCC
 TX1 3 o o 4  TX0
 RX1 5 o o 6  RX0
 N/C 7 o o 8  N/C
 GND 9 o o 10 GND
&lt;/pre&gt;
{{Serial TTL Setup WinXP
|serialport       = 
|serial_port_num  = 
|serial_speed     = 
|serial_data_bits = 
|serial_parity    = 
|serial_stop_bits = 
|serial_flow_cntl = 
}}

====Serial Recovery====

==USB Info==
NO USB

==vlan Info==
===DD-WRT vlan Info===
*[[WikiDevi:DD-WRT/VLAN Support]]

Confirmed the WRT54GS v1.1 supports port-based vlans via the GUI &amp; nvram.

WRT54G v1.1's ports are mapped like this:
&lt;pre style=&quot;border: solid thin gray; font-size:90%; width:200px; overflow:auto;&quot;&gt;
 4 3 2 1 | case labels
 3 2 1 0 | nvram port numbers
&lt;/pre&gt;
====Defaults====
&lt;pre&gt;
root@DD-WRT:~# nvram show | grep vlan.ports
vlan0ports=3 2 1 0 5*
vlan1ports=4 5
size: 19244 bytes (13524 left)
root@DD-WRT:~# nvram show | grep port.vlans
port5vlans=0 1 16
port3vlans=0
port1vlans=0
size: 19244 bytes (13524 left)
port4vlans=0
port2vlans=0
port0vlans=1
root@DD-WRT:~# nvram show | grep vlan.hwname
vlan1hwname=et0
size: 19244 bytes (13524 left)
vlan0hwname=et0
root@DD-WRT:~# lsmod
Module                  Size  Used by
ip_nat_pptp             2560   0 (unused)
ip_conntrack_pptp       3036   1
ip_nat_proto_gre        1664   0 (unused)
ip_conntrack_proto_gre    2584   0 [ip_nat_pptp ip_conntrack_pptp]
etherip                 5104   0 (unused)
switch-robo             5356   0 (unused)
switch-core             6352   0 [switch-robo]
root@DD-WRT:~# ls /proc/switch
eth0
root@DD-WRT:~# cat /proc/switch/eth0/vlan/0/ports
0       1       2       3       5t*
root@DD-WRT:~# cat /proc/switch/eth0/vlan/1/ports
4       5t
root@DD-WRT:~# cat /proc/switch/eth0/vlan/2/ports
4
root@DD-WRT:~#
&lt;/pre&gt;

====commands====
&lt;pre&gt;
root@DD-WRT:~# nvram set vlan0ports=&quot;2 1 0 5*&quot;
root@DD-WRT:~# nvram set vlan1ports=&quot;3 4 5&quot;
root@DD-WRT:~# nvram commit
root@DD-WRT:~# reboot
&lt;/pre&gt;

====nvram====
&lt;pre&gt;
root@DD-WRT:~# nvram show | grep vlan.ports
vlan0ports=2 1 0 5*
vlan1ports=3 4 5
size: 19365 bytes (13403 left)
root@DD-WRT:~# nvram show | grep port.vlans
port5vlans=0 1 16
port3vlans=0
port1vlans=0
size: 19365 bytes (13403 left)
port4vlans=0
port2vlans=0
port0vlans=1
root@DD-WRT:~# nvram show | grep vlan.hwname
vlan1hwname=et0
size: 19365 bytes (13403 left)
vlan0hwname=et0
root@DD-WRT:~#
&lt;/pre&gt;

====GUI====
&lt;pre&gt;
root@DD-WRT:~# nvram show | grep vlan.ports
vlan0ports=3 2 1 0 5*
vlan1ports=4 5
size: 19348 bytes (13420 left)
root@DD-WRT:~# nvram show | grep port.vlans
port5vlans=0 1 16
port4vlans=1 18 19
port3vlans=0 18 19
port2vlans=0 18 19
port1vlans=0 18 19
port0vlans=1 18 19
size: 19348 bytes (13420 left)
root@DD-WRT:~# nvram show | grep vlan.hwname
vlan1hwname=et0
size: 19348 bytes (13420 left)
vlan0hwname=et0
root@DD-WRT:~#
&lt;/pre&gt;

==Pictures==
&lt;center&gt;'''[[User:DarkShadow|DarkShadow's]] Unit'''&lt;gallery&gt;
File:WRT54GSv11a.JPG|Top/Front
File:WRT54GSv11b.JPG|Bottom
File:WRT54GSv11c.JPG|Board Top
File:WRT54GSv11e.JPG|Board Top2
File:WRT54GSv11f.JPG|Serial &amp; JTAG Bottom
File:Wrt54gsv11 sd.jpg|SD MOD
&lt;/gallery&gt;&lt;/center&gt;[[Has images::internal| ]][[Has images::external| ]][[Has images::label| ]]
{{FCCID: Q87-WT54GV22}}

==Notes==
===DD-WRT Notes===
''[comment added 4/25/08 by WellingtonFelix]''
I installed the new version &quot;dd-wrt.v24_mega_generic.bin&quot; over default configuration of the version &quot;dd-wrt.v23_vpn_generic.bin&quot; and I had no problems.

''[comment added 5/7/08 by Sapremias]''
Flashed dd-wrt.v24_mega_generic.bin directly from linksys web interface (version WRT54GSv3_4.71.4.001_fw.bin) without issue. -Sapremias

''[comment added 10/5/08 by richwillal]''
I installed dd-wrt v24 sp1 Mega Vintage (dd-wrt.v24-9517_VINT_mega) from stock firmware with no issues. Standard process:
1) Reset router - reset for 30 secs w/ power on
2) Upload dd-wrt
3) Reset router - reset for 30 secs w/ power on
4) Disconnect/reconnect or ipconfig /renew

''[comment added 04/02/09 by tribble222]''
I nearly bricked my router going directly from Linksys firmware to dd-wrt.v24-11296_VINT_STD.bin. Pinged on boot but tftp wouldn't work. Router didn't even respond to JTAG. Shorting pins 5&amp;6 with the router unplugged somehow fixed everything. From there I was able to flash to mini, then back to std.

__NOTOC__</text>
      <sha1>8cidvwhhrpophpj1tiln5wy72kdq6hu</sha1>
    </revision>
  </page>