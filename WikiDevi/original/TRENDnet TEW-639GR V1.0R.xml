<page>
    <title>TRENDnet TEW-639GR V1.0R</title>
    <ns>0</ns>
    <id>50091</id>
    <revision>
      <id>247529</id>
      <parentid>247528</parentid>
      <timestamp>2019-07-05T02:58:03Z</timestamp>
      <contributor>
        <username>imported&gt;M86</username>
        <id>0</id>
      </contributor>
      <minor/>
      <comment>Text replacement - &quot;speed=10/100/1000&quot; to &quot;speed=1G&quot;</comment>
      <origin>247529</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="32692" sha1="6ui1krp43f15b8neywd7oxyah0pmg46" xml:space="preserve">{{Wireless embedded system
|brand=TRENDnet
|model=TEW-639GR
|revision=V1.0
|upc=
|ean=
|asin=
|price=
|est_release_date=
|fcc_date=11/21/2008
|manuf_country=Taiwan
|is_manuf=No
|manuf=U-MEDIA
|manuf_model=WRT-390L
|manuf_rev=
|availability=
|type=wireless router
|fcc_id=SI5WRT390L,S9ZTEW639GR
|ic_id=6337A-TEW639GR
|us_id=
|pwr_v=12
|pwr_amp=1
|pwr_conn=barrel
|cpu1_brand=Ralink
|cpu1_model=RT2880
|cpu1_cspeed=280
|fla1=4
|fla1_brand=Macronix
|fla1_model=29LV320DBTI-70G
|fla1_num=
|ram1=32
|ram1_brand=ESMT
|ram1_model=M12L128168A-7T
|ram1_num=2
|expansion_if_types=
|expansion_usb_num=
|jtag=
|serial=
|wi1_module=
|wi1_module_if=
|wi1_chip1_brand=Ralink
|wi1_chip1_model=RT2880
|wi1_chip2_brand=Ralink
|wi1_chip2_model=RT2820
|wi1_802dot11_protocols=bgn
|wi1_ant_conn=U.FL
|wi1_txchains=2
|wi1_rxchains=3
|wi1_sstreams=2
|eth_none=
|eth_cpu=true
|sw_cpu=
|sw_brand=Realtek
|sw_model=RTL8366SR
|lan_speed=1G
|lan_ports=4
|wan_ports=1
|addl_chips=
|flags=
|stock_boot=U-Boot;1.1.3;
|stock_os=Linux;2.4.30;
|tp_firmware=
|802dot11_protocols=bgn
|default_ssid=TRENDnet639
|default_ssid_regex=^TRENDnet639$
|default_ip=192.168.10.1
|default_user=admin
|default_pass=
|oui=00:14:D1
|oui_eth=00:14:D1
}}
[http://www.trendnet.com/asp/download_manager/list_subcategory.asp?SUBTYPE_ID=1303 Downloads]

*[http://www.dd-wrt.com/phpBB2/viewtopic.php?p=405613 On '''DD-WRT''' forums] (w/ picture)
:The same hardware is used for the [http://www.dd-wrt.com/phpBB2/viewtopic.php?t=74254 SMC SMCWGBR14S-N].
*[http://forums.smallnetbuilder.com/showthread.php?t=1145 Discussion on '''SmallNetBuilder''' forums]

===Serial===
Baud rate: 57600
Data bits: 8
Stop bits: 1
Parity: None
Flow control: none

====Pinout====
The serial header is unmarked.
&lt;pre&gt;(   ) (RxD) (   ) (   ) [TxD]
(   ) (GND) (   ) (   ) (   )

---&gt; to U-MEDIA board P/N
&lt;--- to RAM&lt;/pre&gt;

===Info derived from===
{{SCollapse|boot log
|&lt;small&gt;&lt;pre&gt;U-Boot 1.1.3 (Jun  9 2008 - 11:07:55)

Board: RT2880 DRAM:  32 MB

 twe0 set to &lt;NULL&gt;

 toe0 set to &lt;NULL&gt;

 vender : MX_MANUFACT

 flash id=000022a8

 MX_ID_LV320CB, Size = 00400000 bytes
flash_protect ON: from 0xBC400000 to 0xBC42A407
protect on 0
protect on 1
protect on 2
protect on 3
protect on 4
protect on 5
protect on 6
protect on 7
protect on 8
protect on 9
flash_protect ON: from 0xBC430000 to 0xBC43FFFF
protect on 10
Flash:  4 MB
*** Warning - bad CRC, using default environment

============================================
ASIC -VerB/C (MAC to GigaMAC Mode)
DRAM COMPONENT=128Mbits
DRAM BUS=32BIT
Total memory = 32Mbytes
Date:Jun  9 2008  Time:11:07:55
============================================
 D-CACHE set to 4 way
 I-CACHE set to 4 way

 ##### The CPU freq = 280 MHZ ####

 SDRAM bus set to 32 bit
 SDRAM size =32 Mbytes
SW CPU port setting = {0x0, 0xfe61}

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   5: Load ucos code to SDRAM via TFTP.
0
Net:
 eth_register
Eth0 (10/100-M)
 enetvar=ethaddr,Eth addr:00:AA:BB:CC:DD:18
 00:AA:BB:CC:DD:18:

 eth_current-&gt;name = Eth0 (10/100-M)

0: Execute Bootp and Auto load Linux Kernel to FLASH via TFTP.
 Please Input new ones /or Ctrl-C to discard
        Input device IP (10.10.10.123)
        Input server IP (10.10.10.3)
        Input Linux Kernel filename (&lt;NULL&gt;)

 netboot_common, argc= 3
 *************buf = 0x8bfce5a4
 **********NexTxPacket = 8bfe6780

 NetTxPacket = 0x8BFE6780

 NetRxPackets[0] = 0x8BFE6D80

 NetRxPackets[1] = 0x8BFE7380

 NetRxPackets[2] = 0x8BFE7980

 NetRxPackets[3] = 0x8BFE7F80

 NetRxPackets[4] = 0x8BFE8580

 NetRxPackets[5] = 0x8BFE8B80

 NetRxPackets[6] = 0x8BFE9180

 NetRxPackets[7] = 0x8BFE9780

 NetRxPackets[8] = 0x8BFE9D80

 NetRxPackets[9] = 0x8BFEA380

 NetRxPackets[10] = 0x8BFEA980

 NetRxPackets[11] = 0x8BFEAF80

 NetRxPackets[12] = 0x8BFEB580

 NetRxPackets[13] = 0x8BFEBB80

 NetRxPackets[14] = 0x8BFEC180

 NetRxPackets[15] = 0x8BFEC780

 NetRxPackets[16] = 0x8BFECD80

 NetRxPackets[17] = 0x8BFED380

 NetRxPackets[18] = 0x8BFED980

 NetRxPackets[19] = 0x8BFEDF80

 KSEG1ADDR(NetTxPacket) = 0xABFE6780

 NetLoop,call eth_halt !
 STOP_RT2880_ETH

 NetLoop,call eth_init !
Trying Eth0 (10/100-M)

 Waitting  RT2880_RX_DMA_BUSY status Start... done

 Mac to giga Mac mode

 Enable GMAC Phy !!

 rx_ring = ABFCE9C0, tx_ring0 = ABFCE880

 Header Payload scatter function is Disable !!

 RT2880_PDMA_GLO_CFG=00000020

 *************************************************

 RT2880_RX_CALC_IDX0=19

 RT2880_RX_DRX_IDX0 = 0

 *************************************************

 ETH_STATE_ACTIVE!!
BOOTP broadcast 1
BOOTP broadcast 2

Retry count exceeded; starting again
Bootp operation fail,  system Boot system code via Flash.
## Booting image at bc450000 ...
   Image Name:   Linux Kernel Image
   Created:      2009-01-05   6:28:00 UTC
System Control Status = 0x02A10084
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    2734564 Bytes =  2.6 MB
   Load Address: 8a000000
   Entry Point:  88240040
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 88240040) ...
## Giving linux memsize in MB, 32

Starting kernel ...

THIS IS ASIC
ramsize = 32 MBytes
rambase not set, set to default (0x08000000)
MEMORY DESCRIPTOR dump:
[0,88499360]: base&lt;08000000&gt; size&lt;02000000&gt; type&lt;Free RAM memory&gt;

 The CPU feqenuce set to 280 MHz
CPU revision is: 0001906c
icache: sets:256, ways:4, linesz:16 ,total:16384, waybit:12, flags:0x0
dcache: sets:256, ways:4, linesz:16 ,total:16384, waybit:12, flags:0x0
i waysize = 4096, d waysize = 4096, i sets= 256, d sets=256
Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.
Primary data cache 16kB, 4-way, linesize 16 bytes.
[setup_scache]:1032

Linux version 2.4.30 (jacky.yang@RH001.u-media.com) 
(gcc version 3.3.6) #915 Mon Jan 5 14:27:51 CST 2009
Determined physical RAM map:
 memory: 02000000 @ 08000000 (usable)
Initial ramdisk at: 0x88278000 (1912832 bytes)
On node 0 totalpages: 40960
zone(0): 40960 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: console=ttyS1,57600n8 root=/dev/ram0
cause = d0808244, status = 10000600
calculating r4koff... 00155cc0(1400000)
CPU frequency 140.00 MHz
Using 140.000 MHz high precision timer.
Calibrating delay loop... 279.34 BogoMIPS
Memory: 26280k/32768k available (2288k kernel code, 6488k reserved, 1996k data, 88k init, 0k highmem)
Dentry cache hash table entries: 32768 (order: 6, 262144 bytes)
Inode cache hash table entries: 16384 (order: 5, 131072 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 8192 (order: 3, 32768 bytes)
Page-cache hash table entries: 65536 (order: 6, 262144 bytes)
Checking for 'wait' instruction...  unavailable.
POSIX conformance testing by UNIFIX
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
pty: 256 Unix98 ptys configured
Ralink gpio driver initialized
spidrv_major = 217
i2cdrv_major = 218
Serial driver version 5.05c (2001-07-08) with no serial options enabled
ttyS00 at 0x300500 (irq = 9) is a 16550A
ttyS01 at 0x300c00 (irq = 8) is a 16550A
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
RAMDISK driver initialized: 16 RAM disks of 8192K size 1024 blocksize
RA2880 Ethernet Driver Initilization. v1.01  256 rx/tx descriptors allocated!
NAPI enable, weight = 0, Tx Ring = 256, Rx Ring = 256Netlink init ok!
PROC INIT OK!
PPP generic driver version 2.4.2
PPP BSD Compression module registered
MPPE/MPPC encryption/compression module registered
FLASH_API: MAN_ID=C2 DEV_ID=22A8 SIZE=4MB
physmap flash device: 4000000 at bf000000
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1
Region0: SectorSize=0x2000 SectorNum=8
Region1: SectorSize=0x10000 SectorNum=63
cfi_cmdset_0002: Using word write method.
cfi_cmdset_0002: Disabling fast programming due to code brokenness.
Using physmap partition definition
Creating 4 MTD partitions on &quot;RT2880 SOC Physically mapped flash&quot;:
0x00000000-0x00030000 : &quot;Bootloader&quot;
mtd: Giving out device 0 to Bootloader
0x00030000-0x00040000 : &quot;Config &quot;
mtd: Giving out device 1 to Config
0x00040000-0x00050000 : &quot;Factory&quot;
mtd: Giving out device 2 to Factory
0x00050000-0x00400000 : &quot;Kernel&quot;
mtd: Giving out device 3 to Kernel
IPv6 v0.8 for NET4.0
IPv6 over IPv4 tunneling driver
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 1024 buckets, 8Kbytes
TCP: Hash tables configured (established 16384 bind 32768)
IPv4 over IPv4 tunneling driver
GRE over IPv4 tunneling driver
Linux IP multicast router 0.06 plus PIM-SM
ipsec_aes_init(alg_type=15 alg_id=12 name=aes): ret=0
ipsec_aes_init(alg_type=14 alg_id=9 name=aes_mac): ret=0
ipsec_3des_init(alg_type=15 alg_id=3 name=3des): ret=0
ipsec_null_init(alg_type=15 alg_id=11 name=null): ret=0
ip_conntrack version 2.1 (1280 buckets, 10240 max) - 316 bytes per conntrack
ip_conntrack_rtsp v0.01 loading
ip_nat_rtsp v0.01 loading
ip_tables: (C) 2000-2002 Netfilter core team, Type=Linux
ipt_time loading
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Load RT2880 Timer Module(Wdg/Soft)
RAMDISK: Compressed image found at block 0
Freeing initrd memory: 1868k freed
VFS: Mounted root (squashfs filesystem) readonly.
Mounted devfs on /dev
Freeing prom memory: 0kb freed
Freeing unused kernel memory: 88k freed
console started
trying to start /sbin/init
Algorithmics/MIPS FPU Emulator v1.5
init started: BusyBox v1.8.2 (2009-01-05 09:39:50 CST)
starting pid 10, tty '': '/etc_ro/rcS'
mount: mounting none on /proc/bus/usb failed: No such file or directory
Welcome to
     _______  _______  ___     __  ____   _  _   ___
    |  ___  \|   __  ||   |   |__||    \ | || | /  /
    | |___| ||  |__| ||   |__  __ |     \| || |/  /
    |   _   /|   _   ||      ||  || |\     ||     \
    |__| \__\|__| |__||______||__||_| \____||_|\___\

                     =System Architecture Department=

config file size in &quot;getfile()&quot; = 1456
Jan  1 00:00:03 crond[30]: crond 1.8.2 started, log level 8

Create a message queue in goahead for interprocess communication!!
initInternet: start internet.sh
internet.sh
0
insmod: bridge.o: module not found
insmod: mii.o: module not found
insmod: raeth.o: module not found
interface apcli0 does not exist!
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
rmmod: rt2860v2_ap
rmmod: rt2860v2_sta
2860 version : 1.8.0.0 (Jan  5 2009)

=== pAd = c4112000, size = 483256 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
rmmod: ip_nat_proto_gre
rmmod: ip_nat_pptp
rmmod: ip_conntrack_pptp
rmmod: ip_conntrack_proto_gre
MDIO_CFG = 1f01dc01
GDMA1_FWD_CFG = 10000
DSP_EN OFF version driver

phy_tx_ring = 0981a000, tx_ring = a981a000, size: 16 bytes

phy_rx_ring = 09819000, rx_ring = a9819000, size: 16 bytes
RX DESC a9c4e000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
1. Phy Mode = 9
2. Phy Mode = 9
3. Phy Mode = 9
MCS Set = ff ff 00 00 00
Main bssid = 00:14:d1:c5:83:88
The UUID Hex string is:2880288028801880a8800014d1c58388
The UUID ASCII string is:28802880-2880-1880-a880-0014d1c58388!
&lt;==== RTMPInitialize, Status=0
0x1300 = 00064380
starting pid 93, tty '/dev/console': '/bin/sh'

BusyBox v1.8.2 (2009-01-05 09:39:50 CST) built-in shell (ash)
Enter 'help' for a list of built-in commands.

# insmod: 8021q.o: module not found
ifconfig: ioctl 0x8913 failed: No such device
bridge br0 doesn't exist; can't delete it
##### restore RTL8366SR vlan partition #####
vlan on
device ra0 entered promiscuous mode
eth2.1: dev_set_promiscuity(master, 1)
device eth2 entered promiscuous mode
device eth2.1 entered promiscuous mode
eth2.1: attempt to add interface with same source address.
udhcpc (v1.8.2) started
br0: port 2(eth2.1) entering learning state
br0: port 1(ra0) entering learning state

***** g_wl_interface = ra0 ******

igmpproxy, Version 0.1 beta2, Build 090105
Copyright 2005 by Johnny Egeland &lt;johnny@rlo.org&gt;
Distributed under the GNU GENERAL PUBLIC LICENSE, Version 2 - check GPL.txt

ERRO: There must be at least 2 Vif's where one is upstream.
iptables: No chain/target/match by that name
iptables: No chain/target/match by that name
route: ioctl 0x890c failed: No such process
Adding muticast routing
Start UPnP: upnpd
br0: port 2(eth2.1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
br0: topology change detected, propagating
check: eth2.2 br0
DHCP Server start initial
iptables: No chain/target/match by that name
DHCP Server start initial
killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1
ntp.sh
ddns.sh
route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1
killall wscd 1&gt;/dev/null 2&gt;&amp;1
killall -9 wscd 1&gt;/dev/null 2&gt;&amp;1
iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1
route add -host 239.255.255.250 dev br0 1&gt;/dev/null 2&gt;&amp;1
wscd -m 1 -a 192.168.10.1 -i ra0 &amp;
iwpriv ra0 set WscConfMode=7
WSC RFICtype=2401 ...
Commit crc = df0f6bd0
setup-wizard.sh
getBoardID
killall -q klogd
killall -q syslogd
syslogd -C8 1&gt;/dev/null 2&gt;&amp;1
klogd 1&gt;/dev/null 2&gt;&amp;1
i2ccmd rtl reset
Start System Deamon
There is not any static route be set up!
webs: Listening for HTTP requests at address 192.168.10.1
goahead: local script rc.local
Start Zebra &amp; RIPd
Limit Ping of Death
Start RFW daemon
bind policy ipv4
send_event: Sent firewall reload message to goahead!
gpio r
0x7907 = 00 79 07 = 0000 0000 0111 1001 0000 0111

goahead: Get message from send_event, the message is firewall_reload
goahead: start firewall_init()
iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1
iptables -D FORWARD -j macipport_block  1&gt;/dev/null 2&gt;&amp;1
iptables -F macipport_block  1&gt;/dev/null 2&gt;&amp;1
iptables -P INPUT ACCEPT
iptables -P OUTPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -F INPUT_SPort
iptables: No chain/target/match by that name
iptables -F FORWARD_SPort
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_SPort
iptables: No chain/target/match by that name
iptables -t nat -F POSTROUTING_SPort
iptables: No chain/target/match by that name
iptables -F INPUT_MPort
iptables: No chain/target/match by that name
iptables -F FORWARD_MPort
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_MPort
iptables: No chain/target/match by that name
iptables -t nat -F POSTROUTING_MPort
iptables: No chain/target/match by that name
iptables -F INPUT_AC
iptables: No chain/target/match by that name
iptables -F FORWARD_AC
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_AC
iptables: No chain/target/match by that name
iptables -t nat -F POSTROUTING_AC
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_DMZ
iptables: No chain/target/match by that name
iptables -t nat -F POSTROUTING_DMZ
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_ICMP
iptables: No chain/target/match by that name
iptables -t nat -N PREROUTING_ICMP
iptables -t nat -D PREROUTING -j PREROUTING_ICMP
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_ICMP
iptables -t nat -N PREROUTING_DMZ
iptables -t nat -D PREROUTING -j PREROUTING_DMZ
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_DMZ
iptables -t nat -N POSTROUTING_DMZ
iptables -t nat -D POSTROUTING -j POSTROUTING_DMZ
iptables: No chain/target/match by that name
iptables -t nat -I POSTROUTING -j POSTROUTING_DMZ
iptables -D FORWARD -j FORWARD_UPnP
iptables: No chain/target/match by that name
iptables -I FORWARD -j FORWARD_UPnP
iptables -t nat -D PREROUTING -j PREROUTING_UPnP
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_UPnP
iptables -N INPUT_SPort
iptables -D INPUT -j INPUT_SPort
iptables: No chain/target/match by that name
iptables -I INPUT -j INPUT_SPort
iptables -N FORWARD_SPort
iptables -D FORWARD -j FORWARD_SPort
iptables: No chain/target/match by that name
iptables -I FORWARD -j FORWARD_SPort
iptables -N INPUT_MPort
iptables -D INPUT -j INPUT_MPort
iptables: No chain/target/match by that name
iptables -I INPUT -j INPUT_MPort
iptables -N FORWARD_MPort
iptables -D FORWARD -j FORWARD_MPort
iptables: No chain/target/match by that name
iptables -I FORWARD -j FORWARD_MPort
iptables -t nat -N PREROUTING_SPort
iptables -t nat -D PREROUTING -j PREROUTING_SPort
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_SPort
iptables -t nat -N POSTROUTING_SPort
iptables -t nat -D POSTROUTING -j POSTROUTING_SPort
iptables: No chain/target/match by that name
iptables -t nat -I POSTROUTING -j POSTROUTING_SPort
iptables -t nat -N PREROUTING_MPort
iptables -t nat -D PREROUTING -j PREROUTING_MPort
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_MPort
iptables -t nat -N POSTROUTING_MPort
iptables -t nat -D POSTROUTING -j POSTROUTING_MPort
iptables: No chain/target/match by that name
iptables -t nat -I POSTROUTING -j POSTROUTING_MPort
iptables -t nat -N PREROUTING_AC
iptables -t nat -D PREROUTING -j PREROUTING_AC
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_AC
iptables -t nat -N PREROUTING_Remote
iptables -t nat -D PREROUTING -j PREROUTING_Remote
iptables: No chain/target/match by that name
iptables -t nat -I PREROUTING -j PREROUTING_Remote
iptables -t nat -N POSTROUTING_Remote
iptables -t nat -D POSTROUTING -j POSTROUTING_Remote
iptables: No chain/target/match by that name
iptables -t nat -I POSTROUTING -j POSTROUTING_Remote
Can't get wan ip address!!
iptables -F INPUT_SPort
iptables -F FORWARD_SPort
iptables -t nat -F PREROUTING_SPort
iptables -t nat -F POSTROUTING_SPort
iptables -F INPUT_MPort
iptables -F FORWARD_MPort
iptables -t nat -F PREROUTING_MPort
iptables -t nat -F POSTROUTING_MPort
iptables -F INPUT_AC
iptables: No chain/target/match by that name
iptables -F FORWARD_AC
iptables: No chain/target/match by that name
iptables -t nat -F PREROUTING_AC
iptables -t nat -F POSTROUTING_AC
iptables: No chain/target/match by that name
kill `ps |grep 'crond'|grep -v 'grep'|awk '{print $1}'`
crond
getIfLive: device ppp0 not found
iptables -A INPUT -j DROP -p tcp --sport 0
iptables -A INPUT -j DROP -p udp --sport 0
iptables -A INPUT -j DROP -p tcp --dport 0
iptables -A INPUT -j DROP -p udp --dport 0
iptables -A INPUT -j DROP -p tcp --sport 1
iptables -A INPUT -j DROP -p udp --sport 1
iptables -A INPUT -j DROP -p tcp --dport 1
iptables -A INPUT -j DROP -p udp --dport 1
iptables -t nat -F PREROUTING_ICMP
iptables -I PREROUTING_ICMP -t nat -i eth2.2 -s 0.0.0.0/0 -p icmp --icmp-type echo-request -j DROP
&lt;/pre&gt;&lt;/small&gt;}}
&lt;small&gt;
====cat /proc/mtd====
&lt;pre&gt;
# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;Bootloader&quot;
mtd1: 00010000 00010000 &quot;Config &quot;
mtd2: 00010000 00010000 &quot;Factory&quot;
mtd3: 003b0000 00010000 &quot;Kernel&quot;
&lt;/pre&gt;
====cat /proc/cpuinfo====
&lt;pre&gt;
# cat /proc/cpuinfo
system type             : Palmchip Surfboard
processor               : 0
cpu model               : unknown V6.12
BogoMIPS                : 279.34
wait instruction        : no
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : no
VCED exceptions         : not available
VCEI exceptions         : not available
&lt;/pre&gt;
====netstat -l====
&lt;pre&gt;
# netstat -l
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 0.0.0.0:49152           0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:49153           0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:53              0.0.0.0:*               LISTEN
tcp        0      0 :::zebra                :::*                    LISTEN
tcp        0      0 :::ripd                 :::*                    LISTEN
udp        0      0 localhost.localdomain:32768 0.0.0.0:*
udp        0      0 localhost.localdomain:32769 0.0.0.0:*
udp        0      0 0.0.0.0:router          0.0.0.0:*
udp        0      0 0.0.0.0:53              0.0.0.0:*
udp        0      0 0.0.0.0:5432            0.0.0.0:*
udp        0      0 0.0.0.0:67              0.0.0.0:*
udp        0      0 0.0.0.0:1900            0.0.0.0:*
udp        0      0 0.0.0.0:1900            0.0.0.0:*
raw        0      0 0.0.0.0:255             0.0.0.0:*               7
raw        0      0 :::58                   :::*                    7

Active UNIX domain sockets (only servers)
Proto RefCnt Flags       Type       State         I-Node Path
unix  2      [ ACC ]     STREAM     LISTENING     2715   /tmp/.zserv
unix  2      [ ACC ]     STREAM     LISTENING     2771   /etc/rfwadm.sock
&lt;/pre&gt;
====ps====
&lt;pre&gt;
# ps
  PID  Uid        VSZ Stat Command
    1 admin      1632 S   init
    2 admin           SW  [keventd]
    3 admin           SWN [ksoftirqd_CPU0]
    4 admin           SW  [kswapd]
    5 admin           SW  [bdflush]
    6 admin           SW  [kupdated]
    7 admin           SW  [mtdblockd]
   17 admin      1048 S   nvram_daemon
   26 admin      1536 S   goahead
   31 admin       812 S   /usr/sbin/sysd
   75 admin           SW  [rtmpWscHandle]
   92 admin      1632 S   /bin/sh /usr/sbin/monitor_web.sh
   93 admin      1632 S   /bin/sh
  117 admin      1632 S   sleep 3600
  181 admin      1632 S   udhcpc -i eth2.2 -s /sbin/udhcpc.sh -p /var/run/udhcp
  230 admin       892 S   lld2d br0
  316 admin      2456 S   /bin/upnpd eth2.2 br0
  317 admin      2456 S   /bin/upnpd eth2.2 br0
  322 admin       920 S   dnsmasq
  324 admin      2456 S   /bin/upnpd eth2.2 br0
  326 admin      2456 S   /bin/upnpd eth2.2 br0
  328 admin      2456 S   /bin/upnpd eth2.2 br0
  329 admin      2456 S   /bin/upnpd eth2.2 br0
  331 admin      2456 S   /bin/upnpd eth2.2 br0
  336 admin      2456 S   /bin/upnpd eth2.2 br0
  347 admin      2456 S   /bin/upnpd eth2.2 br0
  351 admin      2456 S   /bin/upnpd eth2.2 br0
  603 admin      1632 S   udhcpd /etc/udhcpd.conf
  632 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  635 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  638 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  641 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  643 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  646 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  648 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  649 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  650 admin      1136 S   setup-wizard
  654 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  659 admin      2472 S   wscd -m 1 -a 192.168.10.1 -i ra0
  662 admin      1640 S   syslogd -C8
  665 admin      1632 S   klogd
  674 admin      1916 S   /sbin/zebra -d
  684 admin      2112 S   /sbin/ripd -d
  689 admin       844 S   /bin/rfwadm
  894 admin      1640 S   crond
 1748 admin      1632 R   ps
&lt;/pre&gt;
====lsmod====
&lt;pre&gt;
# lsmod
Module                  Size  Used by
rt2860v2_ap          1019024   1
&lt;/pre&gt;
====files====
{{SCollapse|ls -la /bin /sbin /usr/bin /usr/sbin
|&lt;pre&gt;
# ls -la /bin /sbin /usr/bin /usr/sbin
/usr/sbin:
lrwxrwxrwx    1 509      505            17 udhcpd -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 telnetd -&gt; ../../bin/busybox
-rwxr-xr-x    1 509      505          8628 sysd
-rwxr-xr-x    1 509      505          5460 send_event
-rwxr-xr-x    1 509      505           322 monitor_web.sh
-rwxr-xr-x    1 509      505          5644 getBoardID
-rwxr-xr-x    1 509      505         11056 file_add_header
lrwxrwxrwx    1 509      505            17 crond -&gt; ../../bin/busybox
-rwxr-xr-x    1 509      505           156 OutputToTerminal.sh
drwxr-xr-x    6 509      505            53 ..
drwxr-xr-x    2 509      505           147 .

/usr/bin:
lrwxrwxrwx    1 509      505            17 wc -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 uptime -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 tr -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 test -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 printf -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 mesg -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 logger -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 killall -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 free -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 expr -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 dirname -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 crontab -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 bzip2 -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 bzcat -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 bunzip2 -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 basename -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 awk -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 [[ -&gt; ../../bin/busybox
lrwxrwxrwx    1 509      505            17 [ -&gt; ../../bin/busybox
drwxr-xr-x    6 509      505            53 ..
drwxr-xr-x    2 509      505           197 .

/sbin:
-rwxr-xr-x    1 509      505        377064 zebra
-rwxr-xr-x    1 509      505           309 wanclose.sh
-rwxr-xr-x    1 509      505          5913 wan.sh
-rwxr-xr-x    1 509      505           489 vpn-passthru.sh
lrwxrwxrwx    1 509      505            14 vconfig -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505          2340 udhcpd.sh
-rwxr-xr-x    1 509      505          2846 udhcpc.sh
lrwxrwxrwx    1 509      505            14 udhcpc -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 syslogd -&gt; ../bin/busybox
-rw-r--r--    1 509      505           134 spi.sh
-rwxr-xr-x    1 509      505           218 setup-wizard.sh
lrwxrwxrwx    1 509      505            14 route -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 rmmod -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505        466700 ripd
lrwxrwxrwx    1 509      505            14 reboot -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505          1195 rc.local
-rwxr-xr-x    1 509      505         20120 radvdump
-rwxr-xr-x    1 509      505         74800 radvd
-rwxr-xr-x    1 509      505          2202 pptp.sh
-rwxr-xr-x    1 509      505          2109 pppoe.sh
-rwxr-xr-x    1 509      505         36128 pppoe-relay
-rwxr-xr-x    1 509      505          1635 ppp-ip-up
-rwxr-xr-x    1 509      505          1752 ppp-ip-down
lrwxrwxrwx    1 509      505            14 poweroff -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505           673 ntp.sh
-rwxr-xr-x    1 509      505          1087 nat.sh
lrwxrwxrwx    1 509      505            14 modprobe -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 lsmod -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 logread -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505          4942 lan_bak.sh
-rwxr-xr-x    1 509      505          5316 lan.sh
-rwxr-xr-x    1 509      505        111668 l2tpd
-rwxr-xr-x    1 509      505          2322 l2tp.sh
-rwxr-xr-x    1 509      505          5520 l2tp-control
lrwxrwxrwx    1 509      505            14 klogd -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505          9845 internet.sh
lrwxrwxrwx    1 509      505            14 insmod -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 init -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 ifconfig -&gt; ../bin/busybox
lrwxrwxrwx    1 509      505            14 halt -&gt; ../bin/busybox
-rwxr-xr-x    1 509      505          1828 global.sh
-rwxr-xr-x    1 509      505          1848 firewall.sh
-rwxr-xr-x    1 509      505           880 ddns.sh
-rwxr-xr-x    1 509      505          4657 config.sh
-rwxr-xr-x    1 509      505          5380 config-vlan.sh
-rwxr-xr-x    1 509      505          2983 config-udhcpd.sh
-rwxr-xr-x    1 509      505          1485 config-pptp.sh
-rwxr-xr-x    1 509      505           450 config-pppoe.sh
-rwxr-xr-x    1 509      505          1434 config-l2tp.sh
-rwxr-xr-x    1 509      505           354 config-igmpproxy.sh
-rwxr-xr-x    1 509      505           502 config-dns.sh
lrwxrwxrwx    1 509      505            14 arp -&gt; ../bin/busybox
drwxr-xr-x   14 509      505           132 ..
drwxr-xr-x    2 509      505           717 .

/bin:
-rwxr-xr-x    1 509      505         83332 wscd
lrwxrwxrwx    1 509      505             7 vi -&gt; busybox
-rwxr-xr-x    1 509      505         40388 upnpd
lrwxrwxrwx    1 509      505             7 uname -&gt; busybox
lrwxrwxrwx    1 509      505             7 umount -&gt; busybox
lrwxrwxrwx    1 509      505             7 touch -&gt; busybox
-rwxr-xr-x    1 509      505          5824 spicmd
lrwxrwxrwx    1 509      505             7 sleep -&gt; busybox
lrwxrwxrwx    1 509      505             7 sh -&gt; busybox
-rwxr-xr-x    1 509      505        121124 setup-wizard
lrwxrwxrwx    1 509      505             7 sed -&gt; busybox
-rwxr-xr-x    1 509      505         81048 rt2860apd
lrwxrwxrwx    1 509      505             7 rm -&gt; busybox
-rwxr-xr-x    1 509      505          4688 rfwload
-rwxr-xr-x    1 509      505          6332 rfwcmd
-rwxr-xr-x    1 509      505          6084 rfwbatch
-rwxr-xr-x    1 509      505         99668 rfwadm
-rwxr-xr-x    1 509      505          5452 reg
-rwxr-xr-x    1 509      505         27296 ralink_init
lrwxrwxrwx    1 509      505             7 pwd -&gt; busybox
lrwxrwxrwx    1 509      505             7 ps -&gt; busybox
-rwxr-xr-x    1 509      505         75756 pptp
-rwxr-xr-x    1 509      505        303716 pppd
lrwxrwxrwx    1 509      505             7 ping6 -&gt; busybox
lrwxrwxrwx    1 509      505             7 ping -&gt; busybox
-rwxr-xr-x    1 509      505          4636 nvram_set
-rwxr-xr-x    1 509      505          4556 nvram_get
-rwxr-xr-x    1 509      505          7612 nvram_daemon
-rwxr-xr-x    1 509      505         22784 ntpclient
lrwxrwxrwx    1 509      505             7 netstat -&gt; busybox
lrwxrwxrwx    1 509      505             7 mv -&gt; busybox
-rwxr-xr-x    1 509      505         12360 mtd_write
lrwxrwxrwx    1 509      505             7 mount -&gt; busybox
lrwxrwxrwx    1 509      505             7 mkdir -&gt; busybox
-rwxr-xr-x    1 509      505          5632 mii_mgr
lrwxrwxrwx    1 509      505             7 ls -&gt; busybox
lrwxrwxrwx    1 509      505             7 login -&gt; busybox
lrwxrwxrwx    1 509      505             7 ln -&gt; busybox
-rwxr-xr-x    1 509      505         87088 lld2d
lrwxrwxrwx    1 509      505             7 kill -&gt; busybox
-rwxr-xr-x    1 509      505         13984 iwpriv
-rwxr-xr-x    1 509      505         10132 iwgetid
-rwxr-xr-x    1 509      505         26248 iwconfig
-rwxr-xr-x    1 509      505        168564 iptables
lrwxrwxrwx    1 509      505             7 ip -&gt; busybox
-rwxr-xr-x    1 509      505         40592 inadyn
-rwxr-xr-x    1 509      505          1410 igmpproxy.sh
-rwxr-xr-x    1 509      505         49316 igmpproxy
-rwxr-xr-x    1 509      505          5736 i2ccmd
lrwxrwxrwx    1 509      505             7 hostname -&gt; busybox
lrwxrwxrwx    1 509      505             7 grep -&gt; busybox
-rwxr-xr-x    1 509      505         11640 gpio
-rwxr-xr-x    1 509      505        436908 goahead
-rwxr-xr-x    1 509      505          7272 flash
-rwxr-xr-x    1 509      505         51412 ethtool
lrwxrwxrwx    1 509      505             7 egrep -&gt; busybox
lrwxrwxrwx    1 509      505             7 echo -&gt; busybox
-rwxr-xr-x    1 509      505        175364 dnsmasq
lrwxrwxrwx    1 509      505             7 dmesg -&gt; busybox
lrwxrwxrwx    1 509      505             7 df -&gt; busybox
lrwxrwxrwx    1 509      505             7 date -&gt; busybox
lrwxrwxrwx    1 509      505             7 cp -&gt; busybox
-rwxr-xr-x    1 509      505          6344 confRW
lrwxrwxrwx    1 509      505             7 chmod -&gt; busybox
lrwxrwxrwx    1 509      505             7 cat -&gt; busybox
-rwxr-xr-x    1 509      505        595456 busybox
-rwxr-xr-x    1 509      505         31288 brctl
-rwxr-xr-x    1 509      505          9888 ated
lrwxrwxrwx    1 509      505             7 ash -&gt; busybox
-rwxr-xr-x    1 509      505          8700 appconf_gen
drwxr-xr-x   14 509      505           132 ..
drwxr-xr-x    2 509      505           755 .
&lt;/pre&gt;}}
&lt;/small&gt;

__NOTOC__</text>
      <sha1>6ui1krp43f15b8neywd7oxyah0pmg46</sha1>
    </revision>
  </page>